import{b1 as pt,b2 as wc,b3 as q,b4 as Xi,b5 as un,b6 as h0,b7 as d0}from"./index-e245f305.js";import{e as Sc}from"./events-65d12ff1.js";import{b as es}from"./index-0932f5e9.js";import{a as X,b as Ye,O as pe,c as p0,S as Pe,d as Ec,A as ts,e as rs,i as Mt,s as g0,g as ns,h as b0,j as Ot,k as ot,l as Yf,n as Qa,o as Kf,p as nr,q as y0,r as Xf,u as Jr,v as $i,w as qe,x as Di,y as _e,z as we,B as Se,C as v0,U as m0,D as _0,E as w0,f as S0,m as eh,F as E0,G as Za,H as C0,t as th,I as ji,J as R0}from"./timer-c3c8d363.js";import{_ as j}from"./tslib.es6-c2094241.js";function x0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Cc(){return function(e){return e.lift(new I0(e))}}var I0=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new A0(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),A0=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(X),rh=function(t){j(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ye,r.add(this.source.subscribe(new M0(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ye.EMPTY)),r},e.prototype.refCount=function(){return Cc()(this)},e}(pe),k0=function(){var t=rh.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),M0=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(p0);function O0(t,e,r,n){return function(i){return i.lift(new T0(t,e,r,n))}}var T0=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new N0(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),N0=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Pe,i.set(n,s);var a=new Ya(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ya(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new L0(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(X),L0=function(t){j(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(X),Ya=function(t){j(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Ye,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new P0(s)),n.add(o.subscribe(r)),n},e}(pe),P0=function(t){j(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Ye),nh=function(t){j(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ec;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Pe),$0=function(t){j(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ts),D0=function(t){j(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(rs),ih=new D0($0),sh=ih,Qr=new pe(function(t){return t.complete()});function ln(t){return t?j0(t):Qr}function j0(t){return new pe(function(e){return t.schedule(function(){return e.complete()})})}function is(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Mt(r)?(t.pop(),g0(t,r)):ns(t)}function Rc(t,e){return e?new pe(function(r){return e.schedule(B0,0,{error:t,subscriber:r})}):new pe(function(r){return r.error(t)})}function B0(t){var e=t.error,r=t.subscriber;r.error(e)}var Ka;Ka||(Ka={});var Ft=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return is(this.value);case"E":return Rc(this.error);case"C":return ln()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function F0(t,e){return e===void 0&&(e=0),function(n){return n.lift(new W0(t,e))}}var W0=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new oh(e,this.scheduler,this.delay))},t}(),oh=function(t){j(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new H0(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Ft.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Ft.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Ft.createComplete()),this.unsubscribe()},e}(X),H0=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),xc=function(t){j(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new V0(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Ec;if(this.isStopped||this.hasError?a=Ye.EMPTY:(this.observers.push(r),a=new b0(this,r)),s&&r.add(r=new oh(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||sh).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Pe),V0=function(){function t(e,r){this.time=e,this.value=r}return t}(),fn=function(t){j(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ye.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ye.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Pe),U0=1,z0=function(){return Promise.resolve()}(),Xa={};function Nu(t){return t in Xa?(delete Xa[t],!0):!1}var Lu={setImmediate:function(t){var e=U0++;return Xa[e]=!0,z0.then(function(){return Nu(e)&&t()}),e},clearImmediate:function(t){Nu(t)}},q0=function(t){j(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Lu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Lu.clearImmediate(n),r.scheduled=void 0)},e}(ts),G0=function(t){j(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(rs),ah=new G0(q0),Mi=ah,J0=function(t){j(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(ts),Q0=function(t){j(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(rs),ch=new Q0(J0),Z0=ch,Y0=function(t){j(e,t);function e(r,n){r===void 0&&(r=uh),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(rs),uh=function(t){j(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ts);function St(){}function K0(t){return!!t&&(t instanceof pe||typeof t.lift=="function"&&typeof t.subscribe=="function")}var X0=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Zr=X0,eg=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),qn=eg,tg=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),lh=tg;function fh(t,e,r){if(e)if(Mt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return fh(t,r).apply(void 0,n).pipe(Ot(function(s){return ot(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new pe(function(c){if(r){var u={args:n,subscriber:c,params:a};return r.schedule(rg,0,u)}else{if(!o){o=new fn;var l=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([l]))}catch(h){Yf(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function rg(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new fn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.length<=1?u[0]:u;e.add(a.schedule(ng,0,{value:f,subject:c}))};try{s.apply(o,r.concat([l]))}catch(u){c.error(u)}}this.add(c.subscribe(n))}function ng(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function hh(t,e,r){if(e)if(Mt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return hh(t,r).apply(void 0,n).pipe(Ot(function(s){return ot(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new pe(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(ig,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new fn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.shift();if(f){c.error(f);return}c.next(u.length<=1?u[0]:u),c.complete()};try{t.apply(a,n.concat([l]))}catch(u){Yf(c)?c.error(u):console.warn(u)}}return c.subscribe(o)})}}function ig(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new fn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.shift();if(f)e.add(a.schedule(Pu,0,{err:f,subject:c}));else{var d=u.length<=1?u[0]:u;e.add(a.schedule(sg,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(u){this.add(a.schedule(Pu,0,{err:u,subject:c}))}}this.add(c.subscribe(n))}function sg(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Pu(t){var e=t.err,r=t.subject;r.error(e)}var Cr=function(t){j(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(X),og=function(t){j(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(X);function Wt(t,e,r,n,i){if(i===void 0&&(i=new og(t,r,n)),!i.closed)return e instanceof pe?e.subscribe(i):Qa(e)(i)}var $u={};function ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Mt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ot(t[0])&&(t=t[0]),ns(t,n).lift(new Ic(r))}var Ic=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new cg(e,this.resultSelector))},t}(),cg=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push($u),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Wt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===$u?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Cr);function dh(){return Kf(1)}function jn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dh()(is.apply(void 0,t))}function Ac(t){return new pe(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?nr(r):ln();return n.subscribe(e)})}function ug(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(ot(r))return gi(r,null);if(y0(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return gi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&ot(t[0])?t[0]:t,gi(t,null).pipe(Ot(function(s){return i.apply(void 0,s)}))}return gi(t,null)}function gi(t,e){return new pe(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var u=nr(t[l]),h=!1;r.add(u.subscribe({next:function(f){h||(h=!0,o++),i[l]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(f,d,_){return f[d]=i[_],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function ph(t,e,r){return r?ph(t,e).pipe(Ot(function(n){return ot(n)?r.apply(void 0,n):r(n)})):new pe(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Xf(e))return function(){return e(i,s)}})}function lg(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Jr,i=a.scheduler}else n===void 0||Mt(n)?(o=t,s=Jr,i=n):(o=t,s=n);return new pe(function(c){var l=o;if(i)return i.schedule(fg,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var u=void 0;try{u=e(l)}catch(f){c.error(f);return}if(!u){c.complete();break}}var h=void 0;try{h=s(l)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{l=r(l)}catch(f){c.error(f);return}}while(!0)})}function fg(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function hg(t,e,r){return e===void 0&&(e=Qr),r===void 0&&(r=Qr),Ac(function(){return t()?e:r})}function dg(t,e){return t===void 0&&(t=0),e===void 0&&(e=qe),(!$i(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=qe),new pe(function(r){return r.add(e.schedule(pg,t,{subscriber:r,counter:0,period:t})),r})}function pg(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}var gh=new pe(St);function gg(){return gh}function ec(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Qr;var r=t[0],n=t.slice(1);return t.length===1&&ot(r)?ec.apply(void 0,r):new pe(function(i){var s=function(){return i.add(ec.apply(void 0,n).subscribe(i))};return nr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function bg(t,e){return e?new pe(function(r){var n=Object.keys(t),i=new Ye;return i.add(e.schedule(yg,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new pe(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function yg(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function bh(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Kt(t,e){return function(n){return n.lift(new vg(t,e))}}var vg=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new mg(e,this.predicate,this.thisArg))},t}(),mg=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(X);function _g(t,e,r){return[Kt(e,r)(new pe(Qa(t))),Kt(bh(e,r))(new pe(Qa(t)))]}function yh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(ot(t[0]))t=t[0];else return t[0];return ns(t,void 0).lift(new wg)}var wg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Sg(e))},t}(),Sg=function(t){j(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Wt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Cr);function Eg(t,e,r){return t===void 0&&(t=0),new pe(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Cg,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Cg(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Rg(t,e){return new pe(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?nr(i):Qr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function vh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),ns(t,void 0).lift(new mh(r))}var mh=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new xg(e,this.resultSelector))},t}(),xg=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;ot(r)?n.push(new Ag(r)):typeof r[Di]=="function"?n.push(new Ig(r[Di]())):n.push(new kg(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(X),Ig=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),Ag=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Di]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),kg=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Di]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return _e(this.observable,new we(this))},e}(Se);const Mg=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Zr,AsyncSubject:fn,BehaviorSubject:nh,ConnectableObservable:rh,EMPTY:Qr,EmptyError:qn,GroupedObservable:Ya,NEVER:gh,Notification:Ft,get NotificationKind(){return Ka},ObjectUnsubscribedError:Ec,Observable:pe,ReplaySubject:xc,Scheduler:v0,Subject:Pe,Subscriber:X,Subscription:Ye,TimeoutError:lh,UnsubscriptionError:m0,VirtualAction:uh,VirtualTimeScheduler:Y0,animationFrame:Z0,animationFrameScheduler:ch,asap:Mi,asapScheduler:ah,async:qe,asyncScheduler:_0,bindCallback:fh,bindNodeCallback:hh,combineLatest:ag,concat:jn,config:w0,defer:Ac,empty:ln,forkJoin:ug,from:nr,fromEvent:S0,fromEventPattern:ph,generate:lg,identity:Jr,iif:hg,interval:dg,isObservable:K0,merge:eh,never:gg,noop:St,observable:E0,of:is,onErrorResumeNext:ec,pairs:bg,partition:_g,pipe:Za,queue:sh,queueScheduler:ih,race:yh,range:Eg,scheduled:C0,throwError:Rc,timer:th,using:Rg,zip:vh},Symbol.toStringTag,{value:"Module"}));var kc={},Bn={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.walletLogo=void 0;const Og=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ss.walletLogo=Og;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.ScopedLocalStorage=void 0;class Tg{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}os.ScopedLocalStorage=Tg;var Yr={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const Ng=Sc;function Du(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Lg(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Pg=class extends Ng.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Du(s,this,r);else{const o=s.length,a=Lg(s);for(let c=0;c<o;c+=1)Du(a[c],this,r)}return!0}};Rr.default=Pg;var as={},Xt={},_h=Fn;Fn.default=Fn;Fn.stable=Eh;Fn.stableStringify=Eh;var Bi="[...]",wh="[Circular]",_r=[],gr=[];function Sh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Fn(t,e,r,n){typeof n>"u"&&(n=Sh()),tc(t,"",0,[],void 0,0,n);var i;try{gr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Ch(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;_r.length!==0;){var s=_r.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Hr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),_r.push([n,r,e,i])):gr.push([e,r,t]):(n[r]=t,_r.push([n,r,e]))}function tc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(wh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Bi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Bi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)tc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];tc(t[l],l,a,n,t,s,o)}}n.pop()}}function $g(t,e){return t<e?-1:t>e?1:0}function Eh(t,e,r,n){typeof n>"u"&&(n=Sh());var i=rc(t,"",0,[],void 0,0,n)||t,s;try{gr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Ch(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;_r.length!==0;){var o=_r.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function rc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Hr(wh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Hr(Bi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Hr(Bi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)rc(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort($g);for(a=0;a<l.length;a++){var u=l[a];rc(t[u],u,a,n,t,s,o),c[u]=t[u]}if(typeof i<"u")_r.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Ch(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(gr.length>0)for(var n=0;n<gr.length;n++){var i=gr[n];if(i[1]===e&&i[0]===r){r=i[2],gr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Xt,"__esModule",{value:!0});Xt.EthereumProviderError=Xt.EthereumRpcError=void 0;const Dg=_h;let Rh=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Dg.default(this.serialize(),Fg,2)}};Xt.EthereumRpcError=Rh;let jg=class extends Rh{constructor(e,r,n){if(!Bg(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Xt.EthereumProviderError=jg;function Bg(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Fg(t,e){if(e!=="[Circular]")return e}var Mc={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.errorValues=er.errorCodes=void 0;er.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};er.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=er,r=Xt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const _=f.toString();if(h(e.errorValues,_))return e.errorValues[_].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||l(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:_=!1}={}){var A,C;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const E=f;p.code=E.code,E.message&&typeof E.message=="string"?(p.message=E.message,h(E,"data")&&(p.data=E.data)):(p.message=o(p.code),p.data={originalError:u(f)})}else{p.code=d.code;const E=(A=f)===null||A===void 0?void 0:A.message;p.message=E&&typeof E=="string"?E:d.message,p.data={originalError:u(f)}}const y=(C=f)===null||C===void 0?void 0:C.stack;return _&&f&&y&&typeof y=="string"&&(p.stack=y),p}t.serializeError=c;function l(f){return f>=-32099&&f<=-32e3}function u(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(Mc);var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.ethErrors=void 0;const Oc=Xt,xh=Mc,$e=er;cs.ethErrors={rpc:{parse:t=>Xe($e.errorCodes.rpc.parse,t),invalidRequest:t=>Xe($e.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Xe($e.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Xe($e.errorCodes.rpc.methodNotFound,t),internal:t=>Xe($e.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Xe(e,t)},invalidInput:t=>Xe($e.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Xe($e.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Xe($e.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Xe($e.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Xe($e.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Xe($e.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>En($e.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>En($e.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>En($e.errorCodes.provider.unsupportedMethod,t),disconnected:t=>En($e.errorCodes.provider.disconnected,t),chainDisconnected:t=>En($e.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Oc.EthereumProviderError(e,r,n)}}};function Xe(t,e){const[r,n]=Ih(e);return new Oc.EthereumRpcError(t,r||xh.getMessageFromCode(t),n)}function En(t,e){const[r,n]=Ih(e);return new Oc.EthereumProviderError(t,r||xh.getMessageFromCode(t),n)}function Ih(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Xt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Mc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=cs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=er;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(as);var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.EVENTS=void 0;hn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var dn={},Ah={exports:{}},nc={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=es,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(nc,nc.exports);var ir=nc.exports,kh=ir.Buffer;function us(t,e){this._block=kh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}us.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=kh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};us.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};us.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var pn=us,Wg=pt,Mh=pn,Hg=ir.Buffer,Vg=[1518500249,1859775393,-1894007588,-899497514],Ug=new Array(80);function Gn(){this.init(),this._w=Ug,Mh.call(this,64,56)}Wg(Gn,Mh);Gn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function zg(t){return t<<5|t>>>27}function qg(t){return t<<30|t>>>2}function Gg(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Gn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),u=zg(r)+Gg(l,n,i,s)+o+e[c]+Vg[l]|0;o=s,s=i,i=qg(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Gn.prototype._hash=function(){var t=Hg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Jg=Gn,Qg=pt,Oh=pn,Zg=ir.Buffer,Yg=[1518500249,1859775393,-1894007588,-899497514],Kg=new Array(80);function Jn(){this.init(),this._w=Kg,Oh.call(this,64,56)}Qg(Jn,Oh);Jn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Xg(t){return t<<1|t>>>31}function eb(t){return t<<5|t>>>27}function tb(t){return t<<30|t>>>2}function rb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Jn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Xg(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=eb(r)+rb(l,n,i,s)+o+e[c]+Yg[l]|0;o=s,s=i,i=tb(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Jn.prototype._hash=function(){var t=Zg.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var nb=Jn,ib=pt,Th=pn,sb=ir.Buffer,ob=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ab=new Array(64);function Qn(){this.init(),this._w=ab,Th.call(this,64,56)}ib(Qn,Th);Qn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function cb(t,e,r){return r^t&(e^r)}function ub(t,e,r){return t&e|r&(t|e)}function lb(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function fb(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function hb(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function db(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Qn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=db(e[u-2])+e[u-7]+hb(e[u-15])+e[u-16]|0;for(var h=0;h<64;++h){var f=l+fb(o)+cb(o,a,c)+ob[h]+e[h]|0,d=lb(r)+ub(r,n,i)|0;l=c,c=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};Qn.prototype._hash=function(){var t=sb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Nh=Qn,pb=pt,gb=Nh,bb=pn,yb=ir.Buffer,vb=new Array(64);function ls(){this.init(),this._w=vb,bb.call(this,64,56)}pb(ls,gb);ls.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ls.prototype._hash=function(){var t=yb.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var mb=ls,_b=pt,Lh=pn,wb=ir.Buffer,ju=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sb=new Array(160);function Zn(){this.init(),this._w=Sb,Lh.call(this,128,112)}_b(Zn,Lh);Zn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Bu(t,e,r){return r^t&(e^r)}function Fu(t,e,r){return t&e|r&(t|e)}function Wu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Hu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Eb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Cb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Rb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function xb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ie(t,e){return t>>>0<e>>>0?1:0}Zn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,u=this._al|0,h=this._bl|0,f=this._cl|0,d=this._dl|0,_=this._el|0,A=this._fl|0,C=this._gl|0,p=this._hl|0,y=0;y<32;y+=2)e[y]=t.readInt32BE(y*4),e[y+1]=t.readInt32BE(y*4+4);for(;y<160;y+=2){var E=e[y-30],I=e[y-15*2+1],x=Eb(E,I),$=Cb(I,E);E=e[y-2*2],I=e[y-2*2+1];var z=Rb(E,I),B=xb(I,E),D=e[y-7*2],Q=e[y-7*2+1],ae=e[y-16*2],K=e[y-16*2+1],P=$+Q|0,k=x+D+Ie(P,$)|0;P=P+B|0,k=k+z+Ie(P,B)|0,P=P+K|0,k=k+ae+Ie(P,K)|0,e[y]=k,e[y+1]=P}for(var F=0;F<160;F+=2){k=e[F],P=e[F+1];var W=Fu(r,n,i),m=Fu(u,h,f),w=Wu(r,u),R=Wu(u,r),M=Hu(o,_),O=Hu(_,o),T=ju[F],V=ju[F+1],G=Bu(o,a,c),he=Bu(_,A,C),v=p+O|0,S=l+M+Ie(v,p)|0;v=v+he|0,S=S+G+Ie(v,he)|0,v=v+V|0,S=S+T+Ie(v,V)|0,v=v+P|0,S=S+k+Ie(v,P)|0;var N=R+m|0,U=w+W+Ie(N,R)|0;l=c,p=C,c=a,C=A,a=o,A=_,_=d+v|0,o=s+S+Ie(_,d)|0,s=i,d=f,i=n,f=h,n=r,h=u,u=v+N|0,r=S+U+Ie(u,v)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+_|0,this._fl=this._fl+A|0,this._gl=this._gl+C|0,this._hl=this._hl+p|0,this._ah=this._ah+r+Ie(this._al,u)|0,this._bh=this._bh+n+Ie(this._bl,h)|0,this._ch=this._ch+i+Ie(this._cl,f)|0,this._dh=this._dh+s+Ie(this._dl,d)|0,this._eh=this._eh+o+Ie(this._el,_)|0,this._fh=this._fh+a+Ie(this._fl,A)|0,this._gh=this._gh+c+Ie(this._gl,C)|0,this._hh=this._hh+l+Ie(this._hl,p)|0};Zn.prototype._hash=function(){var t=wb.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Ph=Zn,Ib=pt,Ab=Ph,kb=pn,Mb=ir.Buffer,Ob=new Array(160);function fs(){this.init(),this._w=Ob,kb.call(this,128,112)}Ib(fs,Ab);fs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};fs.prototype._hash=function(){var t=Mb.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Tb=fs,xr=Ah.exports=function(e){e=e.toLowerCase();var r=xr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};xr.sha=Jg;xr.sha1=nb;xr.sha224=mb;xr.sha256=Nh;xr.sha384=Tb;xr.sha512=Ph;var Nb=Ah.exports,J={},Lb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Vu=typeof Symbol<"u"&&Symbol,Pb=Lb,$b=function(){return typeof Vu!="function"||typeof Symbol!="function"||typeof Vu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Pb()},Uu={foo:{}},Db=Object,jb=function(){return{__proto__:Uu}.foo===Uu.foo&&!({__proto__:null}instanceof Db)},Bb="Function.prototype.bind called on incompatible ",sa=Array.prototype.slice,Fb=Object.prototype.toString,Wb="[object Function]",Hb=function(e){var r=this;if(typeof r!="function"||Fb.call(r)!==Wb)throw new TypeError(Bb+r);for(var n=sa.call(arguments,1),i,s=function(){if(this instanceof i){var u=r.apply(this,n.concat(sa.call(arguments)));return Object(u)===u?u:this}else return r.apply(e,n.concat(sa.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},Vb=Hb,Tc=Function.prototype.bind||Vb,Ub=Tc,zb=Ub.call(Function.call,Object.prototype.hasOwnProperty),se,Kr=SyntaxError,$h=Function,Vr=TypeError,oa=function(t){try{return $h('"use strict"; return ('+t+").constructor;")()}catch{}},vr=Object.getOwnPropertyDescriptor;if(vr)try{vr({},"")}catch{vr=null}var aa=function(){throw new Vr},qb=vr?function(){try{return arguments.callee,aa}catch{try{return vr(arguments,"callee").get}catch{return aa}}}():aa,Lr=$b(),Gb=jb(),Oe=Object.getPrototypeOf||(Gb?function(t){return t.__proto__}:null),Br={},Jb=typeof Uint8Array>"u"||!Oe?se:Oe(Uint8Array),mr={"%AggregateError%":typeof AggregateError>"u"?se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?se:ArrayBuffer,"%ArrayIteratorPrototype%":Lr&&Oe?Oe([][Symbol.iterator]()):se,"%AsyncFromSyncIteratorPrototype%":se,"%AsyncFunction%":Br,"%AsyncGenerator%":Br,"%AsyncGeneratorFunction%":Br,"%AsyncIteratorPrototype%":Br,"%Atomics%":typeof Atomics>"u"?se:Atomics,"%BigInt%":typeof BigInt>"u"?se:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?se:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?se:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?se:FinalizationRegistry,"%Function%":$h,"%GeneratorFunction%":Br,"%Int8Array%":typeof Int8Array>"u"?se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lr&&Oe?Oe(Oe([][Symbol.iterator]())):se,"%JSON%":typeof JSON=="object"?JSON:se,"%Map%":typeof Map>"u"?se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Lr||!Oe?se:Oe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?se:Promise,"%Proxy%":typeof Proxy>"u"?se:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Lr||!Oe?se:Oe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lr&&Oe?Oe(""[Symbol.iterator]()):se,"%Symbol%":Lr?Symbol:se,"%SyntaxError%":Kr,"%ThrowTypeError%":qb,"%TypedArray%":Jb,"%TypeError%":Vr,"%Uint8Array%":typeof Uint8Array>"u"?se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?se:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?se:WeakSet};if(Oe)try{null.error}catch(t){var Qb=Oe(Oe(t));mr["%Error.prototype%"]=Qb}var Zb=function t(e){var r;if(e==="%AsyncFunction%")r=oa("async function () {}");else if(e==="%GeneratorFunction%")r=oa("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=oa("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Oe&&(r=Oe(i.prototype))}return mr[e]=r,r},zu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Yn=Tc,Fi=zb,Yb=Yn.call(Function.call,Array.prototype.concat),Kb=Yn.call(Function.apply,Array.prototype.splice),qu=Yn.call(Function.call,String.prototype.replace),Wi=Yn.call(Function.call,String.prototype.slice),Xb=Yn.call(Function.call,RegExp.prototype.exec),ey=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ty=/\\(\\)?/g,ry=function(e){var r=Wi(e,0,1),n=Wi(e,-1);if(r==="%"&&n!=="%")throw new Kr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Kr("invalid intrinsic syntax, expected opening `%`");var i=[];return qu(e,ey,function(s,o,a,c){i[i.length]=a?qu(c,ty,"$1"):o||s}),i},ny=function(e,r){var n=e,i;if(Fi(zu,n)&&(i=zu[n],n="%"+i[0]+"%"),Fi(mr,n)){var s=mr[n];if(s===Br&&(s=Zb(n)),typeof s>"u"&&!r)throw new Vr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Kr("intrinsic "+e+" does not exist!")},Nc=function(e,r){if(typeof e!="string"||e.length===0)throw new Vr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vr('"allowMissing" argument must be a boolean');if(Xb(/^%?[^%]*%?$/,e)===null)throw new Kr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ry(e),i=n.length>0?n[0]:"",s=ny("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],Kb(n,Yb([0,1],l)));for(var u=1,h=!0;u<n.length;u+=1){var f=n[u],d=Wi(f,0,1),_=Wi(f,-1);if((d==='"'||d==="'"||d==="`"||_==='"'||_==="'"||_==="`")&&d!==_)throw new Kr("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",Fi(mr,o))a=mr[o];else if(a!=null){if(!(f in a)){if(!r)throw new Vr("base intrinsic for "+e+" exists, but the property is not available.");return}if(vr&&u+1>=n.length){var A=vr(a,f);h=!!A,h&&"get"in A&&!("originalValue"in A.get)?a=A.get:a=a[f]}else h=Fi(a,f),a=a[f];h&&!c&&(mr[o]=a)}}return a},Dh={exports:{}};(function(t){var e=Tc,r=Nc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(h){var f=s(e,i,arguments);if(o&&a){var d=o(f,"length");d.configurable&&a(f,"length",{value:1+c(0,h.length-(arguments.length-1))})}return f};var l=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:l}):t.exports.apply=l})(Dh);var iy=Dh.exports,jh=Nc,Bh=iy,sy=Bh(jh("String.prototype.indexOf")),oy=function(e,r){var n=jh(e,!!r);return typeof n=="function"&&sy(e,".prototype.")>-1?Bh(n):n},Lc=typeof Map=="function"&&Map.prototype,ca=Object.getOwnPropertyDescriptor&&Lc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Hi=Lc&&ca&&typeof ca.get=="function"?ca.get:null,Gu=Lc&&Map.prototype.forEach,Pc=typeof Set=="function"&&Set.prototype,ua=Object.getOwnPropertyDescriptor&&Pc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Vi=Pc&&ua&&typeof ua.get=="function"?ua.get:null,Ju=Pc&&Set.prototype.forEach,ay=typeof WeakMap=="function"&&WeakMap.prototype,On=ay?WeakMap.prototype.has:null,cy=typeof WeakSet=="function"&&WeakSet.prototype,Tn=cy?WeakSet.prototype.has:null,uy=typeof WeakRef=="function"&&WeakRef.prototype,Qu=uy?WeakRef.prototype.deref:null,ly=Boolean.prototype.valueOf,fy=Object.prototype.toString,hy=Function.prototype.toString,dy=String.prototype.match,$c=String.prototype.slice,Zt=String.prototype.replace,py=String.prototype.toUpperCase,Zu=String.prototype.toLowerCase,Fh=RegExp.prototype.test,Yu=Array.prototype.concat,Ct=Array.prototype.join,gy=Array.prototype.slice,Ku=Math.floor,ic=typeof BigInt=="function"?BigInt.prototype.valueOf:null,la=Object.getOwnPropertySymbols,sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",We=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xr||"symbol")?Symbol.toStringTag:null,Wh=Object.prototype.propertyIsEnumerable,Xu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function el(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Fh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Ku(-t):Ku(t);if(n!==t){var i=String(n),s=$c.call(e,i.length+1);return Zt.call(i,r,"$&_")+"."+Zt.call(Zt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Zt.call(e,r,"$&_")}var oc=wc,tl=oc.custom,rl=Vh(tl)?tl:null,by=function t(e,r,n,i){var s=r||{};if(Jt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Jt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return zh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?el(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?el(e,l):l}var u=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return ac(e)?"[Array]":"[Object]";var h=Ly(s,n);if(typeof i>"u")i=[];else if(Uh(i,e)>=0)return"[Circular]";function f(P,k,F){if(k&&(i=gy.call(i),i.push(k)),F){var W={depth:s.depth};return Jt(s,"quoteStyle")&&(W.quoteStyle=s.quoteStyle),t(P,W,n+1,i)}return t(P,s,n+1,i)}if(typeof e=="function"&&!nl(e)){var d=Ry(e),_=bi(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(_.length>0?" { "+Ct.call(_,", ")+" }":"")}if(Vh(e)){var A=Xr?Zt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):sc.call(e);return typeof e=="object"&&!Xr?Cn(A):A}if(Oy(e)){for(var C="<"+Zu.call(String(e.nodeName)),p=e.attributes||[],y=0;y<p.length;y++)C+=" "+p[y].name+"="+Hh(yy(p[y].value),"double",s);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+Zu.call(String(e.nodeName))+">",C}if(ac(e)){if(e.length===0)return"[]";var E=bi(e,f);return h&&!Ny(E)?"["+cc(E,h)+"]":"[ "+Ct.call(E,", ")+" ]"}if(my(e)){var I=bi(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Wh.call(e,"cause")?"{ ["+String(e)+"] "+Ct.call(Yu.call("[cause]: "+f(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ct.call(I,", ")+" }"}if(typeof e=="object"&&o){if(rl&&typeof e[rl]=="function"&&oc)return oc(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(xy(e)){var x=[];return Gu&&Gu.call(e,function(P,k){x.push(f(k,e,!0)+" => "+f(P,e))}),il("Map",Hi.call(e),x,h)}if(ky(e)){var $=[];return Ju&&Ju.call(e,function(P){$.push(f(P,e))}),il("Set",Vi.call(e),$,h)}if(Iy(e))return fa("WeakMap");if(My(e))return fa("WeakSet");if(Ay(e))return fa("WeakRef");if(wy(e))return Cn(f(Number(e)));if(Ey(e))return Cn(f(ic.call(e)));if(Sy(e))return Cn(ly.call(e));if(_y(e))return Cn(f(String(e)));if(!vy(e)&&!nl(e)){var z=bi(e,f),B=Xu?Xu(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",Q=!B&&We&&Object(e)===e&&We in e?$c.call(sr(e),8,-1):D?"Object":"",ae=B||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ae+(Q||D?"["+Ct.call(Yu.call([],Q||[],D||[]),": ")+"] ":"");return z.length===0?K+"{}":h?K+"{"+cc(z,h)+"}":K+"{ "+Ct.call(z,", ")+" }"}return String(e)};function Hh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function yy(t){return Zt.call(String(t),/"/g,"&quot;")}function ac(t){return sr(t)==="[object Array]"&&(!We||!(typeof t=="object"&&We in t))}function vy(t){return sr(t)==="[object Date]"&&(!We||!(typeof t=="object"&&We in t))}function nl(t){return sr(t)==="[object RegExp]"&&(!We||!(typeof t=="object"&&We in t))}function my(t){return sr(t)==="[object Error]"&&(!We||!(typeof t=="object"&&We in t))}function _y(t){return sr(t)==="[object String]"&&(!We||!(typeof t=="object"&&We in t))}function wy(t){return sr(t)==="[object Number]"&&(!We||!(typeof t=="object"&&We in t))}function Sy(t){return sr(t)==="[object Boolean]"&&(!We||!(typeof t=="object"&&We in t))}function Vh(t){if(Xr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!sc)return!1;try{return sc.call(t),!0}catch{}return!1}function Ey(t){if(!t||typeof t!="object"||!ic)return!1;try{return ic.call(t),!0}catch{}return!1}var Cy=Object.prototype.hasOwnProperty||function(t){return t in this};function Jt(t,e){return Cy.call(t,e)}function sr(t){return fy.call(t)}function Ry(t){if(t.name)return t.name;var e=dy.call(hy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Uh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function xy(t){if(!Hi||!t||typeof t!="object")return!1;try{Hi.call(t);try{Vi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Iy(t){if(!On||!t||typeof t!="object")return!1;try{On.call(t,On);try{Tn.call(t,Tn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Ay(t){if(!Qu||!t||typeof t!="object")return!1;try{return Qu.call(t),!0}catch{}return!1}function ky(t){if(!Vi||!t||typeof t!="object")return!1;try{Vi.call(t);try{Hi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function My(t){if(!Tn||!t||typeof t!="object")return!1;try{Tn.call(t,Tn);try{On.call(t,On)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Oy(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function zh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return zh($c.call(t,0,e.maxStringLength),e)+n}var i=Zt.call(Zt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ty);return Hh(i,"single",e)}function Ty(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+py.call(e.toString(16))}function Cn(t){return"Object("+t+")"}function fa(t){return t+" { ? }"}function il(t,e,r,n){var i=n?cc(r,n):Ct.call(r,", ");return t+" ("+e+") {"+i+"}"}function Ny(t){for(var e=0;e<t.length;e++)if(Uh(t[e],`
`)>=0)return!1;return!0}function Ly(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ct.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ct.call(Array(e+1),r)}}function cc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ct.call(t,","+r)+`
`+e.prev}function bi(t,e){var r=ac(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Jt(t,i)?e(t[i],t):""}var s=typeof la=="function"?la(t):[],o;if(Xr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Jt(t,c)&&(r&&String(Number(c))===c&&c<t.length||Xr&&o["$"+c]instanceof Symbol||(Fh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof la=="function")for(var l=0;l<s.length;l++)Wh.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var Dc=Nc,gn=oy,Py=by,$y=Dc("%TypeError%"),yi=Dc("%WeakMap%",!0),vi=Dc("%Map%",!0),Dy=gn("WeakMap.prototype.get",!0),jy=gn("WeakMap.prototype.set",!0),By=gn("WeakMap.prototype.has",!0),Fy=gn("Map.prototype.get",!0),Wy=gn("Map.prototype.set",!0),Hy=gn("Map.prototype.has",!0),jc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Vy=function(t,e){var r=jc(t,e);return r&&r.value},Uy=function(t,e,r){var n=jc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},zy=function(t,e){return!!jc(t,e)},qy=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new $y("Side channel does not contain "+Py(s))},get:function(s){if(yi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Dy(e,s)}else if(vi){if(r)return Fy(r,s)}else if(n)return Vy(n,s)},has:function(s){if(yi&&s&&(typeof s=="object"||typeof s=="function")){if(e)return By(e,s)}else if(vi){if(r)return Hy(r,s)}else if(n)return zy(n,s);return!1},set:function(s,o){yi&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new yi),jy(e,s,o)):vi?(r||(r=new vi),Wy(r,s,o)):(n||(n={key:{},next:null}),Uy(n,s,o))}};return i},Gy=String.prototype.replace,Jy=/%20/g,ha={RFC1738:"RFC1738",RFC3986:"RFC3986"},Bc={default:ha.RFC3986,formatters:{RFC1738:function(t){return Gy.call(t,Jy,"+")},RFC3986:function(t){return String(t)}},RFC1738:ha.RFC1738,RFC3986:ha.RFC3986},Qy=Bc,da=Object.prototype.hasOwnProperty,lr=Array.isArray,vt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Zy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(lr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},qh=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Yy=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(lr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!da.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return lr(e)&&!lr(r)&&(i=qh(e,n)),lr(e)&&lr(r)?(r.forEach(function(s,o){if(da.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return da.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Ky=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Xy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ev=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===Qy.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+vt[l];continue}if(l<2048){a=a+(vt[192|l>>6]+vt[128|l&63]);continue}if(l<55296||l>=57344){a=a+(vt[224|l>>12]+vt[128|l>>6&63]+vt[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=vt[240|l>>18]+vt[128|l>>12&63]+vt[128|l>>6&63]+vt[128|l&63]}return a},tv=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return Zy(r),e},rv=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nv=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},iv=function(e,r){return[].concat(e,r)},sv=function(e,r){if(lr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Gh={arrayToObject:qh,assign:Ky,combine:iv,compact:tv,decode:Xy,encode:ev,isBuffer:nv,isRegExp:rv,maybeMap:sv,merge:Yy},Jh=qy,Oi=Gh,Nn=Bc,ov=Object.prototype.hasOwnProperty,sl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Dt=Array.isArray,av=Array.prototype.push,Qh=function(t,e){av.apply(t,Dt(e)?e:[e])},cv=Date.prototype.toISOString,ol=Nn.default,Fe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Oi.encode,encodeValuesOnly:!1,format:ol,formatter:Nn.formatters[ol],indices:!1,serializeDate:function(e){return cv.call(e)},skipNulls:!1,strictNullHandling:!1},uv=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},pa={},lv=function t(e,r,n,i,s,o,a,c,l,u,h,f,d,_,A,C){for(var p=e,y=C,E=0,I=!1;(y=y.get(pa))!==void 0&&!I;){var x=y.get(e);if(E+=1,typeof x<"u"){if(x===E)throw new RangeError("Cyclic object value");I=!0}typeof y.get(pa)>"u"&&(E=0)}if(typeof c=="function"?p=c(r,p):p instanceof Date?p=h(p):n==="comma"&&Dt(p)&&(p=Oi.maybeMap(p,function(W){return W instanceof Date?h(W):W})),p===null){if(s)return a&&!_?a(r,Fe.encoder,A,"key",f):r;p=""}if(uv(p)||Oi.isBuffer(p)){if(a){var $=_?r:a(r,Fe.encoder,A,"key",f);return[d($)+"="+d(a(p,Fe.encoder,A,"value",f))]}return[d(r)+"="+d(String(p))]}var z=[];if(typeof p>"u")return z;var B;if(n==="comma"&&Dt(p))_&&a&&(p=Oi.maybeMap(p,a)),B=[{value:p.length>0?p.join(",")||null:void 0}];else if(Dt(c))B=c;else{var D=Object.keys(p);B=l?D.sort(l):D}for(var Q=i&&Dt(p)&&p.length===1?r+"[]":r,ae=0;ae<B.length;++ae){var K=B[ae],P=typeof K=="object"&&typeof K.value<"u"?K.value:p[K];if(!(o&&P===null)){var k=Dt(p)?typeof n=="function"?n(Q,K):Q:Q+(u?"."+K:"["+K+"]");C.set(e,E);var F=Jh();F.set(pa,C),Qh(z,t(P,k,n,i,s,o,n==="comma"&&_&&Dt(p)?null:a,c,l,u,h,f,d,_,A,F))}}return z},fv=function(e){if(!e)return Fe;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Fe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Nn.default;if(typeof e.format<"u"){if(!ov.call(Nn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Nn.formatters[n],s=Fe.filter;return(typeof e.filter=="function"||Dt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Fe.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Fe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Fe.charsetSentinel,delimiter:typeof e.delimiter>"u"?Fe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Fe.encode,encoder:typeof e.encoder=="function"?e.encoder:Fe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Fe.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Fe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Fe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Fe.strictNullHandling}},hv=function(t,e){var r=t,n=fv(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Dt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in sl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=sl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Jh(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||Qh(o,lv(r[f],f,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),d.length>0?_+d:""},en=Gh,uc=Object.prototype.hasOwnProperty,dv=Array.isArray,ke={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:en.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},pv=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Zh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},gv="utf8=%26%2310003%3B",bv="utf8=%E2%9C%93",yv=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===bv?l="utf-8":o[c]===gv&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var u=o[c],h=u.indexOf("]="),f=h===-1?u.indexOf("="):h+1,d,_;f===-1?(d=r.decoder(u,ke.decoder,l,"key"),_=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,f),ke.decoder,l,"key"),_=en.maybeMap(Zh(u.slice(f+1),r),function(A){return r.decoder(A,ke.decoder,l,"value")})),_&&r.interpretNumericEntities&&l==="iso-8859-1"&&(_=pv(_)),u.indexOf("[]=")>-1&&(_=dv(_)?[_]:_),uc.call(n,d)?n[d]=en.combine(n[d],_):n[d]=_}return n},vv=function(t,e,r,n){for(var i=n?e:Zh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},mv=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,u=[];if(l){if(!n.plainObjects&&uc.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&uc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+s.slice(c.index)+"]"),vv(u,r,n,i)}},_v=function(e){if(!e)return ke;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ke.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||en.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},wv=function(t,e){var r=_v(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?yv(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=mv(a,n[a],r,typeof t=="string");i=en.merge(i,c,r)}return r.allowSparse===!0?i:en.compact(i)},Sv=hv,Ev=wv,Cv=Bc,Rv={formats:Cv,parse:Ev,stringify:Sv},Kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Kn);var xv=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J,"__esModule",{value:!0});J.isInIFrame=J.createQrUrl=J.getFavicon=J.range=J.isBigNumber=J.ensureParsedJSONObject=J.ensureBN=J.ensureRegExpString=J.ensureIntNumber=J.ensureBuffer=J.ensureAddressString=J.ensureEvenLengthHexString=J.ensureHexString=J.isHexString=J.prepend0x=J.strip0x=J.has0xPrefix=J.hexStringFromIntNumber=J.intNumberFromHexString=J.bigIntStringFromBN=J.hexStringFromBuffer=J.hexStringToUint8Array=J.uint8ArrayToHex=J.randomBytesHex=void 0;const Qt=xv(Xi),Iv=Rv,it=Kn,Yh=/^[0-9]*$/,Kh=/^[a-f0-9]*$/;function Av(t){return Xh(crypto.getRandomValues(new Uint8Array(t)))}J.randomBytesHex=Av;function Xh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}J.uint8ArrayToHex=Xh;function kv(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}J.hexStringToUint8Array=kv;function Mv(t,e=!1){const r=t.toString("hex");return(0,it.HexString)(e?"0x"+r:r)}J.hexStringFromBuffer=Mv;function Ov(t){return(0,it.BigIntString)(t.toString(10))}J.bigIntStringFromBN=Ov;function Tv(t){return(0,it.IntNumber)(new Qt.default(ei(t,!1),16).toNumber())}J.intNumberFromHexString=Tv;function Nv(t){return(0,it.HexString)("0x"+new Qt.default(t).toString(16))}J.hexStringFromIntNumber=Nv;function Fc(t){return t.startsWith("0x")||t.startsWith("0X")}J.has0xPrefix=Fc;function hs(t){return Fc(t)?t.slice(2):t}J.strip0x=hs;function ed(t){return Fc(t)?"0x"+t.slice(2):"0x"+t}J.prepend0x=ed;function Xn(t){if(typeof t!="string")return!1;const e=hs(t).toLowerCase();return Kh.test(e)}J.isHexString=Xn;function td(t,e=!1){if(typeof t=="string"){const r=hs(t).toLowerCase();if(Kh.test(r))return(0,it.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}J.ensureHexString=td;function ei(t,e=!1){let r=td(t,!1);return r.length%2===1&&(r=(0,it.HexString)("0"+r)),e?(0,it.HexString)("0x"+r):r}J.ensureEvenLengthHexString=ei;function Lv(t){if(typeof t=="string"){const e=hs(t).toLowerCase();if(Xn(e)&&e.length===40)return(0,it.AddressString)(ed(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}J.ensureAddressString=Lv;function Pv(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Xn(t)){const e=ei(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}J.ensureBuffer=Pv;function rd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,it.IntNumber)(t);if(typeof t=="string"){if(Yh.test(t))return(0,it.IntNumber)(Number(t));if(Xn(t))return(0,it.IntNumber)(new Qt.default(ei(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}J.ensureIntNumber=rd;function $v(t){if(t instanceof RegExp)return(0,it.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}J.ensureRegExpString=$v;function Dv(t){if(t!==null&&(Qt.default.isBN(t)||nd(t)))return new Qt.default(t.toString(10),10);if(typeof t=="number")return new Qt.default(rd(t));if(typeof t=="string"){if(Yh.test(t))return new Qt.default(t,10);if(Xn(t))return new Qt.default(ei(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}J.ensureBN=Dv;function jv(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}J.ensureParsedJSONObject=jv;function nd(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}J.isBigNumber=nd;function Bv(t,e){return Array.from({length:e-t},(r,n)=>t+n)}J.range=Bv;function Fv(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}J.getFavicon=Fv;function Wv(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Iv.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}J.createQrUrl=Wv;function Hv(){try{return window.frameElement!==null}catch{return!1}}J.isInIFrame=Hv;Object.defineProperty(dn,"__esModule",{value:!0});dn.Session=void 0;const al=Nb,cl=J,ul="session:id",ll="session:secret",fl="session:linked";class Wc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,cl.randomBytesHex)(16),this._secret=n||(0,cl.randomBytesHex)(32),this._key=new al.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(ul),n=e.getItem(fl),i=e.getItem(ll);return r&&i?new Wc(e,r,i,n==="1"):null}static hash(e){return new al.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(ul,this._id),this._storage.setItem(ll,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(fl,this._linked?"1":"0")}}dn.Session=Wc;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.WalletSDKRelayAbstract=dt.APP_VERSION_KEY=dt.LOCAL_STORAGE_ADDRESSES_KEY=dt.WALLET_USER_NAME_KEY=void 0;const hl=as;dt.WALLET_USER_NAME_KEY="walletUsername";dt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";dt.APP_VERSION_KEY="AppVersion";class Vv{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw hl.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,hl.serializeError)(s);return i})}}dt.WalletSDKRelayAbstract=Vv;var lc={exports:{}},id=Sc.EventEmitter,ga,dl;function Uv(){if(dl)return ga;dl=1;function t(_,A){var C=Object.keys(_);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(_);A&&(p=p.filter(function(y){return Object.getOwnPropertyDescriptor(_,y).enumerable})),C.push.apply(C,p)}return C}function e(_){for(var A=1;A<arguments.length;A++){var C=arguments[A]!=null?arguments[A]:{};A%2?t(Object(C),!0).forEach(function(p){r(_,p,C[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):t(Object(C)).forEach(function(p){Object.defineProperty(_,p,Object.getOwnPropertyDescriptor(C,p))})}return _}function r(_,A,C){return A=o(A),A in _?Object.defineProperty(_,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[A]=C,_}function n(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function i(_,A){for(var C=0;C<A.length;C++){var p=A[C];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,o(p.key),p)}}function s(_,A,C){return A&&i(_.prototype,A),C&&i(_,C),Object.defineProperty(_,"prototype",{writable:!1}),_}function o(_){var A=a(_,"string");return typeof A=="symbol"?A:String(A)}function a(_,A){if(typeof _!="object"||_===null)return _;var C=_[Symbol.toPrimitive];if(C!==void 0){var p=C.call(_,A||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(_)}var c=es,l=c.Buffer,u=wc,h=u.inspect,f=h&&h.custom||"inspect";function d(_,A,C){l.prototype.copy.call(_,A,C)}return ga=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return s(_,[{key:"push",value:function(C){var p={data:C,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(C){var p={data:C,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var C=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(C){if(this.length===0)return"";for(var p=this.head,y=""+p.data;p=p.next;)y+=C+p.data;return y}},{key:"concat",value:function(C){if(this.length===0)return l.alloc(0);for(var p=l.allocUnsafe(C>>>0),y=this.head,E=0;y;)d(y.data,p,E),E+=y.data.length,y=y.next;return p}},{key:"consume",value:function(C,p){var y;return C<this.head.data.length?(y=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):C===this.head.data.length?y=this.shift():y=p?this._getString(C):this._getBuffer(C),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(C){var p=this.head,y=1,E=p.data;for(C-=E.length;p=p.next;){var I=p.data,x=C>I.length?I.length:C;if(x===I.length?E+=I:E+=I.slice(0,C),C-=x,C===0){x===I.length?(++y,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=I.slice(x));break}++y}return this.length-=y,E}},{key:"_getBuffer",value:function(C){var p=l.allocUnsafe(C),y=this.head,E=1;for(y.data.copy(p),C-=y.data.length;y=y.next;){var I=y.data,x=C>I.length?I.length:C;if(I.copy(p,p.length-C,0,x),C-=x,C===0){x===I.length?(++E,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=I.slice(x));break}++E}return this.length-=E,p}},{key:f,value:function(C,p){return h(this,e(e({},p),{},{depth:0,customInspect:!1}))}}]),_}(),ga}function zv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(fc,this,t)):process.nextTick(fc,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ti,r):(r._writableState.errorEmitted=!0,process.nextTick(pl,r,s)):process.nextTick(pl,r,s):e?(process.nextTick(Ti,r),e(s)):process.nextTick(Ti,r)}),this)}function pl(t,e){fc(t,e),Ti(t)}function Ti(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function qv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fc(t,e){t.emit("error",e)}function Gv(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var sd={destroy:zv,undestroy:qv,errorOrDestroy:Gv},Ir={};function Jv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var od={};function at(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Jv(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,od[t]=i}function gl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Qv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Zv(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Yv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}at("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);at("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Qv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Zv(t," argument"))i="The ".concat(t," ").concat(n," ").concat(gl(e,"type"));else{var s=Yv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(gl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);at("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");at("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});at("ERR_STREAM_PREMATURE_CLOSE","Premature close");at("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});at("ERR_MULTIPLE_CALLBACK","Callback called multiple times");at("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");at("ERR_STREAM_WRITE_AFTER_END","write after end");at("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);at("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);at("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ir.codes=od;var Kv=Ir.codes.ERR_INVALID_OPT_VALUE;function Xv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function em(t,e,r,n){var i=Xv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Kv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var ad={getHighWaterMark:em},tm=rm;function rm(t,e){if(ba("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ba("throwDeprecation"))throw new Error(e);ba("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ba(t){try{if(!q.localStorage)return!1}catch{return!1}var e=q.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ya,bl;function cd(){if(bl)return ya;bl=1,ya=B;function t(v){var S=this;this.next=null,this.entry=null,this.finish=function(){he(S,v)}}var e;B.WritableState=$;var r={deprecate:tm},n=id,i=es.Buffer,s=(typeof q<"u"?q:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(v){return i.from(v)}function a(v){return i.isBuffer(v)||v instanceof s}var c=sd,l=ad,u=l.getHighWaterMark,h=Ir.codes,f=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,A=h.ERR_STREAM_CANNOT_PIPE,C=h.ERR_STREAM_DESTROYED,p=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,I=c.errorOrDestroy;pt(B,n);function x(){}function $(v,S,N){e=e||tn(),v=v||{},typeof N!="boolean"&&(N=S instanceof e),this.objectMode=!!v.objectMode,N&&(this.objectMode=this.objectMode||!!v.writableObjectMode),this.highWaterMark=u(this,v,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=v.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){W(S,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}$.prototype.getBuffer=function(){for(var S=this.bufferedRequest,N=[];S;)N.push(S),S=S.next;return N},function(){try{Object.defineProperty($.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(S){return z.call(this,S)?!0:this!==B?!1:S&&S._writableState instanceof $}})):z=function(S){return S instanceof this};function B(v){e=e||tn();var S=this instanceof e;if(!S&&!z.call(B,this))return new B(v);this._writableState=new $(v,this,S),this.writable=!0,v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final)),n.call(this)}B.prototype.pipe=function(){I(this,new A)};function D(v,S){var N=new y;I(v,N),process.nextTick(S,N)}function Q(v,S,N,U){var Z;return N===null?Z=new p:typeof N!="string"&&!S.objectMode&&(Z=new f("chunk",["string","Buffer"],N)),Z?(I(v,Z),process.nextTick(U,Z),!1):!0}B.prototype.write=function(v,S,N){var U=this._writableState,Z=!1,g=!U.objectMode&&a(v);return g&&!i.isBuffer(v)&&(v=o(v)),typeof S=="function"&&(N=S,S=null),g?S="buffer":S||(S=U.defaultEncoding),typeof N!="function"&&(N=x),U.ending?D(this,N):(g||Q(this,U,v,N))&&(U.pendingcb++,Z=K(this,U,g,v,S,N)),Z},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var v=this._writableState;v.corked&&(v.corked--,!v.writing&&!v.corked&&!v.bufferProcessing&&v.bufferedRequest&&R(this,v))},B.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new E(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ae(v,S,N){return!v.objectMode&&v.decodeStrings!==!1&&typeof S=="string"&&(S=i.from(S,N)),S}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(v,S,N,U,Z,g){if(!N){var b=ae(S,U,Z);U!==b&&(N=!0,Z="buffer",U=b)}var L=S.objectMode?1:U.length;S.length+=L;var H=S.length<S.highWaterMark;if(H||(S.needDrain=!0),S.writing||S.corked){var ge=S.lastBufferedRequest;S.lastBufferedRequest={chunk:U,encoding:Z,isBuf:N,callback:g,next:null},ge?ge.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else P(v,S,!1,L,U,Z,g);return H}function P(v,S,N,U,Z,g,b){S.writelen=U,S.writecb=b,S.writing=!0,S.sync=!0,S.destroyed?S.onwrite(new C("write")):N?v._writev(Z,S.onwrite):v._write(Z,g,S.onwrite),S.sync=!1}function k(v,S,N,U,Z){--S.pendingcb,N?(process.nextTick(Z,U),process.nextTick(V,v,S),v._writableState.errorEmitted=!0,I(v,U)):(Z(U),v._writableState.errorEmitted=!0,I(v,U),V(v,S))}function F(v){v.writing=!1,v.writecb=null,v.length-=v.writelen,v.writelen=0}function W(v,S){var N=v._writableState,U=N.sync,Z=N.writecb;if(typeof Z!="function")throw new _;if(F(N),S)k(v,N,U,S,Z);else{var g=M(N)||v.destroyed;!g&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&R(v,N),U?process.nextTick(m,v,N,g,Z):m(v,N,g,Z)}}function m(v,S,N,U){N||w(v,S),S.pendingcb--,U(),V(v,S)}function w(v,S){S.length===0&&S.needDrain&&(S.needDrain=!1,v.emit("drain"))}function R(v,S){S.bufferProcessing=!0;var N=S.bufferedRequest;if(v._writev&&N&&N.next){var U=S.bufferedRequestCount,Z=new Array(U),g=S.corkedRequestsFree;g.entry=N;for(var b=0,L=!0;N;)Z[b]=N,N.isBuf||(L=!1),N=N.next,b+=1;Z.allBuffers=L,P(v,S,!0,S.length,Z,"",g.finish),S.pendingcb++,S.lastBufferedRequest=null,g.next?(S.corkedRequestsFree=g.next,g.next=null):S.corkedRequestsFree=new t(S),S.bufferedRequestCount=0}else{for(;N;){var H=N.chunk,ge=N.encoding,re=N.callback,fe=S.objectMode?1:H.length;if(P(v,S,!1,fe,H,ge,re),N=N.next,S.bufferedRequestCount--,S.writing)break}N===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=N,S.bufferProcessing=!1}B.prototype._write=function(v,S,N){N(new d("_write()"))},B.prototype._writev=null,B.prototype.end=function(v,S,N){var U=this._writableState;return typeof v=="function"?(N=v,v=null,S=null):typeof S=="function"&&(N=S,S=null),v!=null&&this.write(v,S),U.corked&&(U.corked=1,this.uncork()),U.ending||G(this,U,N),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function M(v){return v.ending&&v.length===0&&v.bufferedRequest===null&&!v.finished&&!v.writing}function O(v,S){v._final(function(N){S.pendingcb--,N&&I(v,N),S.prefinished=!0,v.emit("prefinish"),V(v,S)})}function T(v,S){!S.prefinished&&!S.finalCalled&&(typeof v._final=="function"&&!S.destroyed?(S.pendingcb++,S.finalCalled=!0,process.nextTick(O,v,S)):(S.prefinished=!0,v.emit("prefinish")))}function V(v,S){var N=M(S);if(N&&(T(v,S),S.pendingcb===0&&(S.finished=!0,v.emit("finish"),S.autoDestroy))){var U=v._readableState;(!U||U.autoDestroy&&U.endEmitted)&&v.destroy()}return N}function G(v,S,N){S.ending=!0,V(v,S),N&&(S.finished?process.nextTick(N):v.once("finish",N)),S.ended=!0,v.writable=!1}function he(v,S,N){var U=v.entry;for(v.entry=null;U;){var Z=U.callback;S.pendingcb--,Z(N),U=U.next}S.corkedRequestsFree.next=v}return Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),B.prototype.destroy=c.destroy,B.prototype._undestroy=c.undestroy,B.prototype._destroy=function(v,S){S(v)},ya}var va,yl;function tn(){if(yl)return va;yl=1;var t=Object.keys||function(l){var u=[];for(var h in l)u.push(h);return u};va=o;var e=ld(),r=cd();pt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),va}var ma={},vl;function ml(){if(vl)return ma;vl=1;var t=ir.Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}function n(p){var y=r(p);if(typeof y!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return y||p}ma.StringDecoder=i;function i(p){this.encoding=n(p);var y;switch(this.encoding){case"utf16le":this.text=h,this.end=f,y=4;break;case"utf8":this.fillLast=c,y=4;break;case"base64":this.text=d,this.end=_,y=3;break;default:this.write=A,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(y)}i.prototype.write=function(p){if(p.length===0)return"";var y,E;if(this.lastNeed){if(y=this.fillLast(p),y===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<p.length?y?y+this.text(p,E):this.text(p,E):y||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function o(p,y,E){var I=y.length-1;if(I<E)return 0;var x=s(y[I]);return x>=0?(x>0&&(p.lastNeed=x-1),x):--I<E||x===-2?0:(x=s(y[I]),x>=0?(x>0&&(p.lastNeed=x-2),x):--I<E||x===-2?0:(x=s(y[I]),x>=0?(x>0&&(x===2?x=0:p.lastNeed=x-3),x):0))}function a(p,y,E){if((y[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return p.lastNeed=2,""}}function c(p){var y=this.lastTotal-this.lastNeed,E=a(this,p);if(E!==void 0)return E;if(this.lastNeed<=p.length)return p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,y,0,p.length),this.lastNeed-=p.length}function l(p,y){var E=o(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=E;var I=p.length-(E-this.lastNeed);return p.copy(this.lastChar,0,I),p.toString("utf8",y,I)}function u(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"":y}function h(p,y){if((p.length-y)%2===0){var E=p.toString("utf16le",y);if(E){var I=E.charCodeAt(E.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function f(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,E)}return y}function d(p,y){var E=(p.length-y)%3;return E===0?p.toString("base64",y):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-E))}function _(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function A(p){return p.toString(this.encoding)}function C(p){return p&&p.length?this.write(p):""}return ma}var _l=Ir.codes.ERR_STREAM_PREMATURE_CLOSE;function nm(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function im(){}function sm(t){return t.setHeader&&typeof t.abort=="function"}function ud(t,e,r){if(typeof e=="function")return ud(t,null,e);e||(e={}),r=nm(r||im);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},u=function(_){r.call(t,_)},h=function(){var _;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(_=new _l),r.call(t,_);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(_=new _l),r.call(t,_)},f=function(){t.req.on("finish",a)};return sm(t)?(t.on("complete",a),t.on("abort",h),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",h)}}var Hc=ud,_a,wl;function om(){if(wl)return _a;wl=1;var t;function e(E,I,x){return I=r(I),I in E?Object.defineProperty(E,I,{value:x,enumerable:!0,configurable:!0,writable:!0}):E[I]=x,E}function r(E){var I=n(E,"string");return typeof I=="symbol"?I:String(I)}function n(E,I){if(typeof E!="object"||E===null)return E;var x=E[Symbol.toPrimitive];if(x!==void 0){var $=x.call(E,I||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(E)}var i=Hc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function f(E,I){return{value:E,done:I}}function d(E){var I=E[s];if(I!==null){var x=E[h].read();x!==null&&(E[l]=null,E[s]=null,E[o]=null,I(f(x,!1)))}}function _(E){process.nextTick(d,E)}function A(E,I){return function(x,$){E.then(function(){if(I[c]){x(f(void 0,!0));return}I[u](x,$)},$)}}var C=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var I=this,x=this[a];if(x!==null)return Promise.reject(x);if(this[c])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(D,Q){process.nextTick(function(){I[a]?Q(I[a]):D(f(void 0,!0))})});var $=this[l],z;if($)z=new Promise(A($,this));else{var B=this[h].read();if(B!==null)return Promise.resolve(f(B,!1));z=new Promise(this[u])}return this[l]=z,z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var I=this;return new Promise(function(x,$){I[h].destroy(null,function(z){if(z){$(z);return}x(f(void 0,!0))})})}),t),C),y=function(I){var x,$=Object.create(p,(x={},e(x,h,{value:I,writable:!0}),e(x,s,{value:null,writable:!0}),e(x,o,{value:null,writable:!0}),e(x,a,{value:null,writable:!0}),e(x,c,{value:I._readableState.endEmitted,writable:!0}),e(x,u,{value:function(B,D){var Q=$[h].read();Q?($[l]=null,$[s]=null,$[o]=null,B(f(Q,!1))):($[s]=B,$[o]=D)},writable:!0}),x));return $[l]=null,i(I,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=$[o];B!==null&&($[l]=null,$[s]=null,$[o]=null,B(z)),$[a]=z;return}var D=$[s];D!==null&&($[l]=null,$[s]=null,$[o]=null,D(f(void 0,!0))),$[c]=!0}),I.on("readable",_.bind(null,$)),$};return _a=y,_a}var wa,Sl;function am(){return Sl||(Sl=1,wa=function(){throw new Error("Readable.from is not available in the browser")}),wa}var Sa,El;function ld(){if(El)return Sa;El=1,Sa=D;var t;D.ReadableState=B,Sc.EventEmitter;var e=function(b,L){return b.listeners(L).length},r=id,n=es.Buffer,i=(typeof q<"u"?q:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(g){return n.from(g)}function o(g){return n.isBuffer(g)||g instanceof i}var a=wc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=Uv(),u=sd,h=ad,f=h.getHighWaterMark,d=Ir.codes,_=d.ERR_INVALID_ARG_TYPE,A=d.ERR_STREAM_PUSH_AFTER_EOF,C=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,E,I;pt(D,r);var x=u.errorOrDestroy,$=["error","close","destroy","pause","resume"];function z(g,b,L){if(typeof g.prependListener=="function")return g.prependListener(b,L);!g._events||!g._events[b]?g.on(b,L):Array.isArray(g._events[b])?g._events[b].unshift(L):g._events[b]=[L,g._events[b]]}function B(g,b,L){t=t||tn(),g=g||{},typeof L!="boolean"&&(L=b instanceof t),this.objectMode=!!g.objectMode,L&&(this.objectMode=this.objectMode||!!g.readableObjectMode),this.highWaterMark=f(this,g,"readableHighWaterMark",L),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=g.emitClose!==!1,this.autoDestroy=!!g.autoDestroy,this.destroyed=!1,this.defaultEncoding=g.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g.encoding&&(y||(y=ml().StringDecoder),this.decoder=new y(g.encoding),this.encoding=g.encoding)}function D(g){if(t=t||tn(),!(this instanceof D))return new D(g);var b=this instanceof t;this._readableState=new B(g,this,b),this.readable=!0,g&&(typeof g.read=="function"&&(this._read=g.read),typeof g.destroy=="function"&&(this._destroy=g.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),D.prototype.destroy=u.destroy,D.prototype._undestroy=u.undestroy,D.prototype._destroy=function(g,b){b(g)},D.prototype.push=function(g,b){var L=this._readableState,H;return L.objectMode?H=!0:typeof g=="string"&&(b=b||L.defaultEncoding,b!==L.encoding&&(g=n.from(g,b),b=""),H=!0),Q(this,g,b,!1,H)},D.prototype.unshift=function(g){return Q(this,g,null,!0,!1)};function Q(g,b,L,H,ge){c("readableAddChunk",b);var re=g._readableState;if(b===null)re.reading=!1,W(g,re);else{var fe;if(ge||(fe=K(re,b)),fe)x(g,fe);else if(re.objectMode||b&&b.length>0)if(typeof b!="string"&&!re.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=s(b)),H)re.endEmitted?x(g,new p):ae(g,re,b,!0);else if(re.ended)x(g,new A);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!L?(b=re.decoder.write(b),re.objectMode||b.length!==0?ae(g,re,b,!1):R(g,re)):ae(g,re,b,!1)}else H||(re.reading=!1,R(g,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function ae(g,b,L,H){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,g.emit("data",L)):(b.length+=b.objectMode?1:L.length,H?b.buffer.unshift(L):b.buffer.push(L),b.needReadable&&m(g)),R(g,b)}function K(g,b){var L;return!o(b)&&typeof b!="string"&&b!==void 0&&!g.objectMode&&(L=new _("chunk",["string","Buffer","Uint8Array"],b)),L}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(g){y||(y=ml().StringDecoder);var b=new y(g);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,H="";L!==null;)H+=b.write(L.data),L=L.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var P=1073741824;function k(g){return g>=P?g=P:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}function F(g,b){return g<=0||b.length===0&&b.ended?0:b.objectMode?1:g!==g?b.flowing&&b.length?b.buffer.head.data.length:b.length:(g>b.highWaterMark&&(b.highWaterMark=k(g)),g<=b.length?g:b.ended?b.length:(b.needReadable=!0,0))}D.prototype.read=function(g){c("read",g),g=parseInt(g,10);var b=this._readableState,L=g;if(g!==0&&(b.emittedReadable=!1),g===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return c("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?N(this):m(this),null;if(g=F(g,b),g===0&&b.ended)return b.length===0&&N(this),null;var H=b.needReadable;c("need readable",H),(b.length===0||b.length-g<b.highWaterMark)&&(H=!0,c("length less than watermark",H)),b.ended||b.reading?(H=!1,c("reading or ended",H)):H&&(c("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(g=F(L,b)));var ge;return g>0?ge=S(g,b):ge=null,ge===null?(b.needReadable=b.length<=b.highWaterMark,g=0):(b.length-=g,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),L!==g&&b.ended&&N(this)),ge!==null&&this.emit("data",ge),ge};function W(g,b){if(c("onEofChunk"),!b.ended){if(b.decoder){var L=b.decoder.end();L&&L.length&&(b.buffer.push(L),b.length+=b.objectMode?1:L.length)}b.ended=!0,b.sync?m(g):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,w(g)))}}function m(g){var b=g._readableState;c("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(c("emitReadable",b.flowing),b.emittedReadable=!0,process.nextTick(w,g))}function w(g){var b=g._readableState;c("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(g.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,v(g)}function R(g,b){b.readingMore||(b.readingMore=!0,process.nextTick(M,g,b))}function M(g,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var L=b.length;if(c("maybeReadMore read 0"),g.read(0),L===b.length)break}b.readingMore=!1}D.prototype._read=function(g){x(this,new C("_read()"))},D.prototype.pipe=function(g,b){var L=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=g;break;case 1:H.pipes=[H.pipes,g];break;default:H.pipes.push(g);break}H.pipesCount+=1,c("pipe count=%d opts=%j",H.pipesCount,b);var ge=(!b||b.end!==!1)&&g!==process.stdout&&g!==process.stderr,re=ge?Nt:Ut;H.endEmitted?process.nextTick(re):L.once("end",re),g.on("unpipe",fe);function fe(Lt,yt){c("onunpipe"),Lt===L&&yt&&yt.hasUnpiped===!1&&(yt.hasUnpiped=!0,pi())}function Nt(){c("onend"),g.end()}var or=O(L);g.on("drain",or);var wn=!1;function pi(){c("cleanup"),g.removeListener("close",Tr),g.removeListener("finish",Nr),g.removeListener("drain",or),g.removeListener("error",Or),g.removeListener("unpipe",fe),L.removeListener("end",Nt),L.removeListener("end",Ut),L.removeListener("data",Sn),wn=!0,H.awaitDrain&&(!g._writableState||g._writableState.needDrain)&&or()}L.on("data",Sn);function Sn(Lt){c("ondata");var yt=g.write(Lt);c("dest.write",yt),yt===!1&&((H.pipesCount===1&&H.pipes===g||H.pipesCount>1&&Z(H.pipes,g)!==-1)&&!wn&&(c("false write response, pause",H.awaitDrain),H.awaitDrain++),L.pause())}function Or(Lt){c("onerror",Lt),Ut(),g.removeListener("error",Or),e(g,"error")===0&&x(g,Lt)}z(g,"error",Or);function Tr(){g.removeListener("finish",Nr),Ut()}g.once("close",Tr);function Nr(){c("onfinish"),g.removeListener("close",Tr),Ut()}g.once("finish",Nr);function Ut(){c("unpipe"),L.unpipe(g)}return g.emit("pipe",L),H.flowing||(c("pipe resume"),L.resume()),g};function O(g){return function(){var L=g._readableState;c("pipeOnDrain",L.awaitDrain),L.awaitDrain&&L.awaitDrain--,L.awaitDrain===0&&e(g,"data")&&(L.flowing=!0,v(g))}}D.prototype.unpipe=function(g){var b=this._readableState,L={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return g&&g!==b.pipes?this:(g||(g=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,g&&g.emit("unpipe",this,L),this);if(!g){var H=b.pipes,ge=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var re=0;re<ge;re++)H[re].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=Z(b.pipes,g);return fe===-1?this:(b.pipes.splice(fe,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),g.emit("unpipe",this,L),this)},D.prototype.on=function(g,b){var L=r.prototype.on.call(this,g,b),H=this._readableState;return g==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):g==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,c("on readable",H.length,H.reading),H.length?m(this):H.reading||process.nextTick(V,this)),L},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(g,b){var L=r.prototype.removeListener.call(this,g,b);return g==="readable"&&process.nextTick(T,this),L},D.prototype.removeAllListeners=function(g){var b=r.prototype.removeAllListeners.apply(this,arguments);return(g==="readable"||g===void 0)&&process.nextTick(T,this),b};function T(g){var b=g._readableState;b.readableListening=g.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:g.listenerCount("data")>0&&g.resume()}function V(g){c("readable nexttick read 0"),g.read(0)}D.prototype.resume=function(){var g=this._readableState;return g.flowing||(c("resume"),g.flowing=!g.readableListening,G(this,g)),g.paused=!1,this};function G(g,b){b.resumeScheduled||(b.resumeScheduled=!0,process.nextTick(he,g,b))}function he(g,b){c("resume",b.reading),b.reading||g.read(0),b.resumeScheduled=!1,g.emit("resume"),v(g),b.flowing&&!b.reading&&g.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function v(g){var b=g._readableState;for(c("flow",b.flowing);b.flowing&&g.read()!==null;);}D.prototype.wrap=function(g){var b=this,L=this._readableState,H=!1;g.on("end",function(){if(c("wrapped end"),L.decoder&&!L.ended){var fe=L.decoder.end();fe&&fe.length&&b.push(fe)}b.push(null)}),g.on("data",function(fe){if(c("wrapped data"),L.decoder&&(fe=L.decoder.write(fe)),!(L.objectMode&&fe==null)&&!(!L.objectMode&&(!fe||!fe.length))){var Nt=b.push(fe);Nt||(H=!0,g.pause())}});for(var ge in g)this[ge]===void 0&&typeof g[ge]=="function"&&(this[ge]=function(Nt){return function(){return g[Nt].apply(g,arguments)}}(ge));for(var re=0;re<$.length;re++)g.on($[re],this.emit.bind(this,$[re]));return this._read=function(fe){c("wrapped _read",fe),H&&(H=!1,g.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=om()),E(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),D._fromList=S,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function S(g,b){if(b.length===0)return null;var L;return b.objectMode?L=b.buffer.shift():!g||g>=b.length?(b.decoder?L=b.buffer.join(""):b.buffer.length===1?L=b.buffer.first():L=b.buffer.concat(b.length),b.buffer.clear()):L=b.buffer.consume(g,b.decoder),L}function N(g){var b=g._readableState;c("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,process.nextTick(U,b,g))}function U(g,b){if(c("endReadableNT",g.endEmitted,g.length),!g.endEmitted&&g.length===0&&(g.endEmitted=!0,b.readable=!1,b.emit("end"),g.autoDestroy)){var L=b._writableState;(!L||L.autoDestroy&&L.finished)&&b.destroy()}}typeof Symbol=="function"&&(D.from=function(g,b){return I===void 0&&(I=am()),I(D,g,b)});function Z(g,b){for(var L=0,H=g.length;L<H;L++)if(g[L]===b)return L;return-1}return Sa}var fd=Ht,ds=Ir.codes,cm=ds.ERR_METHOD_NOT_IMPLEMENTED,um=ds.ERR_MULTIPLE_CALLBACK,lm=ds.ERR_TRANSFORM_ALREADY_TRANSFORMING,fm=ds.ERR_TRANSFORM_WITH_LENGTH_0,ps=tn();pt(Ht,ps);function hm(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new um);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ht(t){if(!(this instanceof Ht))return new Ht(t);ps.call(this,t),this._transformState={afterTransform:hm.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",dm)}function dm(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Cl(t,e,r)}):Cl(this,null,null)}Ht.prototype.push=function(t,e){return this._transformState.needTransform=!1,ps.prototype.push.call(this,t,e)};Ht.prototype._transform=function(t,e,r){r(new cm("_transform()"))};Ht.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ht.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ht.prototype._destroy=function(t,e){ps.prototype._destroy.call(this,t,function(r){e(r)})};function Cl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new fm;if(t._transformState.transforming)throw new lm;return t.push(null)}var pm=Wn,hd=fd;pt(Wn,hd);function Wn(t){if(!(this instanceof Wn))return new Wn(t);hd.call(this,t)}Wn.prototype._transform=function(t,e,r){r(null,t)};var Ea;function gm(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var dd=Ir.codes,bm=dd.ERR_MISSING_ARGS,ym=dd.ERR_STREAM_DESTROYED;function Rl(t){if(t)throw t}function vm(t){return t.setHeader&&typeof t.abort=="function"}function mm(t,e,r,n){n=gm(n);var i=!1;t.on("close",function(){i=!0}),Ea===void 0&&(Ea=Hc),Ea(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,vm(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new ym("pipe"))}}}function xl(t){t()}function _m(t,e){return t.pipe(e)}function wm(t){return!t.length||typeof t[t.length-1]!="function"?Rl:t.pop()}function Sm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=wm(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new bm("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return mm(o,c,l,function(u){i||(i=u),u&&s.forEach(xl),!c&&(s.forEach(xl),n(i))})});return e.reduce(_m)}var Em=Sm;(function(t,e){e=t.exports=ld(),e.Stream=e,e.Readable=e,e.Writable=cd(),e.Duplex=tn(),e.Transform=fd,e.PassThrough=pm,e.finished=Hc,e.pipeline=Em})(lc,lc.exports);var pd=lc.exports;const{Transform:Cm}=pd;var Rm=t=>class gd extends Cm{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new gd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:xm}=pd;var Im=t=>class bd extends xm{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new bd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Am=Rm,km=Im;var Mm=function(t){const e=Am(t),r=km(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},yd={};const Il=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];yd.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],u=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=u^(i<<1|s>>>31),d=h^(s<<1|i>>>31);const _=t[0]^f,A=t[1]^d,C=t[10]^f,p=t[11]^d,y=t[20]^f,E=t[21]^d,I=t[30]^f,x=t[31]^d,$=t[40]^f,z=t[41]^d;f=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const B=t[2]^f,D=t[3]^d,Q=t[12]^f,ae=t[13]^d,K=t[22]^f,P=t[23]^d,k=t[32]^f,F=t[33]^d,W=t[42]^f,m=t[43]^d;f=i^(c<<1|l>>>31),d=s^(l<<1|c>>>31);const w=t[4]^f,R=t[5]^d,M=t[14]^f,O=t[15]^d,T=t[24]^f,V=t[25]^d,G=t[34]^f,he=t[35]^d,v=t[44]^f,S=t[45]^d;f=o^(u<<1|h>>>31),d=a^(h<<1|u>>>31);const N=t[6]^f,U=t[7]^d,Z=t[16]^f,g=t[17]^d,b=t[26]^f,L=t[27]^d,H=t[36]^f,ge=t[37]^d,re=t[46]^f,fe=t[47]^d;f=c^(r<<1|n>>>31),d=l^(n<<1|r>>>31);const Nt=t[8]^f,or=t[9]^d,wn=t[18]^f,pi=t[19]^d,Sn=t[28]^f,Or=t[29]^d,Tr=t[38]^f,Nr=t[39]^d,Ut=t[48]^f,Lt=t[49]^d,yt=_,uo=A,lo=p<<4|C>>>28,fo=C<<4|p>>>28,ho=y<<3|E>>>29,po=E<<3|y>>>29,go=x<<9|I>>>23,bo=I<<9|x>>>23,yo=$<<18|z>>>14,vo=z<<18|$>>>14,mo=B<<1|D>>>31,_o=D<<1|B>>>31,wo=ae<<12|Q>>>20,So=Q<<12|ae>>>20,Eo=K<<10|P>>>22,Co=P<<10|K>>>22,Ro=F<<13|k>>>19,xo=k<<13|F>>>19,Io=W<<2|m>>>30,Ao=m<<2|W>>>30,ko=R<<30|w>>>2,Mo=w<<30|R>>>2,Oo=M<<6|O>>>26,To=O<<6|M>>>26,No=V<<11|T>>>21,Lo=T<<11|V>>>21,Po=G<<15|he>>>17,$o=he<<15|G>>>17,Do=S<<29|v>>>3,jo=v<<29|S>>>3,Bo=N<<28|U>>>4,Fo=U<<28|N>>>4,Wo=g<<23|Z>>>9,Ho=Z<<23|g>>>9,Vo=b<<25|L>>>7,Uo=L<<25|b>>>7,zo=H<<21|ge>>>11,qo=ge<<21|H>>>11,Go=fe<<24|re>>>8,Jo=re<<24|fe>>>8,Qo=Nt<<27|or>>>5,Zo=or<<27|Nt>>>5,Yo=wn<<20|pi>>>12,Ko=pi<<20|wn>>>12,Xo=Or<<7|Sn>>>25,ea=Sn<<7|Or>>>25,ta=Tr<<8|Nr>>>24,ra=Nr<<8|Tr>>>24,na=Ut<<14|Lt>>>18,ia=Lt<<14|Ut>>>18;t[0]=yt^~wo&No,t[1]=uo^~So&Lo,t[10]=Bo^~Yo&ho,t[11]=Fo^~Ko&po,t[20]=mo^~Oo&Vo,t[21]=_o^~To&Uo,t[30]=Qo^~lo&Eo,t[31]=Zo^~fo&Co,t[40]=ko^~Wo&Xo,t[41]=Mo^~Ho&ea,t[2]=wo^~No&zo,t[3]=So^~Lo&qo,t[12]=Yo^~ho&Ro,t[13]=Ko^~po&xo,t[22]=Oo^~Vo&ta,t[23]=To^~Uo&ra,t[32]=lo^~Eo&Po,t[33]=fo^~Co&$o,t[42]=Wo^~Xo&go,t[43]=Ho^~ea&bo,t[4]=No^~zo&na,t[5]=Lo^~qo&ia,t[14]=ho^~Ro&Do,t[15]=po^~xo&jo,t[24]=Vo^~ta&yo,t[25]=Uo^~ra&vo,t[34]=Eo^~Po&Go,t[35]=Co^~$o&Jo,t[44]=Xo^~go&Io,t[45]=ea^~bo&Ao,t[6]=zo^~na&yt,t[7]=qo^~ia&uo,t[16]=Ro^~Do&Bo,t[17]=xo^~jo&Fo,t[26]=ta^~yo&mo,t[27]=ra^~vo&_o,t[36]=Po^~Go&Qo,t[37]=$o^~Jo&Zo,t[46]=go^~Io&ko,t[47]=bo^~Ao&Mo,t[8]=na^~yt&wo,t[9]=ia^~uo&So,t[18]=Do^~Bo&Yo,t[19]=jo^~Fo&Ko,t[28]=yo^~mo&Oo,t[29]=vo^~_o&To,t[38]=Go^~Qo&lo,t[39]=Jo^~Zo&fo,t[48]=Io^~ko&Wo,t[49]=Ao^~Mo&Ho,t[0]^=Il[e*2],t[1]^=Il[e*2+1]}};const Ui=yd;function bn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}bn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};bn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ui.p1600(this.state),this.count=0)};bn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Ui.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ui.p1600(this.state),this.count=0,this.squeezing=!0};bn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ui.p1600(this.state),this.count=0);return e};bn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Om=bn,Tm=Mm(Om);const Nm=Tm,Lm=Xi;function vd(t){return Buffer.allocUnsafe(t).fill(0)}function md(t,e,r){const n=vd(e);return t=gs(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Pm(t,e){return md(t,e,!0)}function gs(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")_d(t)?t=Buffer.from(jm(wd(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Lm.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function $m(t){return t=gs(t),"0x"+t.toString("hex")}function Dm(t,e){return t=gs(t),e||(e=256),Nm("keccak"+e).update(t).digest()}function jm(t){return t.length%2?"0"+t:t}function _d(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function wd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Sd={zeros:vd,setLength:md,setLengthRight:Pm,isHexString:_d,stripHexPrefix:wd,toBuffer:gs,bufferToHex:$m,keccak:Dm};const wr=Sd,br=Xi;function Ed(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Ur(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Al(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Cd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function fr(t){var e=typeof t;if(e==="string")return wr.isHexString(t)?new br(wr.stripHexPrefix(t),16):new br(t,10);if(e==="number")return new br(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function Et(t,e){var r,n,i,s;if(t==="address")return Et("uint160",fr(e));if(t==="bool")return Et("uint8",e?1:0);if(t==="string")return Et("bytes",new Buffer(e,"utf8"));if(Fm(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Cd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Et(t,e[s]));if(r==="dynamic"){var o=Et("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([Et("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,wr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Ur(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return wr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Ur(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=fr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Ur(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=fr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Al(t),n=fr(e),n<0)throw new Error("Supplied ufixed is negative");return Et("uint256",n.mul(new br(2).pow(new br(r[1]))))}else if(t.startsWith("fixed"))return r=Al(t),Et("int256",fr(e).mul(new br(2).pow(new br(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Bm(t){return t==="string"||t==="bytes"||Cd(t)==="dynamic"}function Fm(t){return t.lastIndexOf("]")===t.length-1}function Wm(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Ed(t[s]),a=e[s],c=Et(o,a);Bm(o)?(r.push(Et("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Rd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Ed(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(wr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Ur(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(wr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Ur(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=fr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Ur(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=fr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Hm(t,e){return wr.keccak(Rd(t,e))}var Vm={rawEncode:Wm,solidityPack:Rd,soliditySHA3:Hm};const lt=Sd,Ln=Vm,xd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ca={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":lt.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",lt.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",lt.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),h=l.map(f=>o(a,u,f));return["bytes32",lt.keccak(Ln.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=lt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=lt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=lt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ln.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return lt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return lt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in xd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),lt.keccak(Buffer.concat(n))}};var Um={TYPED_MESSAGE_SCHEMA:xd,TypedDataUtils:Ca,hashForSignTypedDataLegacy:function(t){return zm(t.data)},hashForSignTypedData_v3:function(t){return Ca.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ca.hash(t.data)}};function zm(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?lt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Ln.soliditySHA3(["bytes32","bytes32"],[Ln.soliditySHA3(new Array(t.length).fill("string"),i),Ln.soliditySHA3(n,r)])}var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.filterFromParam=rn.FilterPolyfill=void 0;const Fr=Kn,Ve=J,qm=5*60*1e3,hr={jsonrpc:"2.0",id:0};class Gm{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Fr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Id(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Ve.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ve.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Ve.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Ve.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(mi())}async getFilterLogs(e){const r=(0,Ve.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},hr),{method:"eth_getLogs",params:[kl(n)]})):mi()}makeFilterId(){return(0,Fr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return mi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return _i();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},hr),{method:"eth_getLogs",params:[kl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Ve.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Fr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return mi();const n=await this.getCurrentBlockHeight();if(r>n)return _i();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Ve.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Fr.IntNumber)(o))))).filter(o=>!!o),s=(0,Fr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},hr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(_i())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},qm);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},hr),{method:"eth_blockNumber",params:[]}));return(0,Ve.intNumberFromHexString)((0,Ve.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},hr),{method:"eth_getBlockByNumber",params:[(0,Ve.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Ve.ensureHexString)(r.result.hash):null}}rn.FilterPolyfill=Gm;function Id(t){return{fromBlock:Ml(t.fromBlock),toBlock:Ml(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}rn.filterFromParam=Id;function kl(t){const e={fromBlock:Ol(t.fromBlock),toBlock:Ol(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Ml(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Fr.IntNumber)(0);if((0,Ve.isHexString)(t))return(0,Ve.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Ol(t){return t==="latest"?t:(0,Ve.hexStringFromIntNumber)(t)}function mi(){return Object.assign(Object.assign({},hr),{error:{code:-32e3,message:"filter not found"}})}function _i(){return Object.assign(Object.assign({},hr),{result:[]})}var Ad={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Ad);var bs={},kd={},ys={},Vc=Jm;function Jm(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Tl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Qm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Tl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Tl(s,e):s}return n},ti={},Zm=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});ti.BaseBlockTracker=void 0;const Ym=Zm(Rr),Km=1e3,Xm=(t,e)=>t+e,Nl=["sync","latest"];class e1 extends Ym.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Km,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Nl.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Nl.map(e=>this.listenerCount(e)).reduce(Xm)}_newPotentialLatest(e){const r=this._currentBlock;r&&Ll(e)<=Ll(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ti.BaseBlockTracker=e1;function Ll(t){return Number.parseInt(t,16)}var Md={},Od={},Le={};class Td extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function t1(t){return st(t)&&typeof t[Symbol.iterator]=="function"}function st(t){return typeof t=="object"&&t!=null}function Pl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xe(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function r1(t){const{done:e,value:r}=t.next();return e?void 0:r}function n1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${xe(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*hc(t,e,r,n){t1(t)||(t=[t]);for(const i of t){const s=n1(i,e,r,n);s&&(yield s)}}function*Uc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&st(e.schema)&&st(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of e.entries(t,a)){const f=Uc(u,h,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(u=d[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):st(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class Ee{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return hc(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return hc(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return Nd(e,this,r)}create(e,r){return Ld(e,this,r)}is(e){return zc(e,this)}mask(e,r){return Pd(e,this,r)}validate(e,r={}){return yn(e,this,r)}}function Nd(t,e,r){const n=yn(t,e,{message:r});if(n[0])throw n[0]}function Ld(t,e,r){const n=yn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Pd(t,e,r){const n=yn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function zc(t,e){return!yn(t,e)[0]}function yn(t,e,r={}){const n=Uc(t,e,r),i=r1(n);return i[0]?[new Td(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function i1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Gc(n):ri(n)}function Ge(t,e){return new Ee({type:t,schema:null,validator:e})}function s1(t,e){return new Ee({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function o1(t){return new Ee({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function a1(t){let e;return new Ee({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function c1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Gc(n);default:return ri(n)}}function u1(t){const e=t instanceof Ee?{...t.schema}:{...t};for(const r in e)e[r]=$d(e[r]);return ri(e)}function l1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return ri(n)}function f1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ge(t,e)}function h1(){return Ge("any",()=>!0)}function d1(t){return new Ee({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${xe(e)}`}})}function p1(){return Ge("bigint",t=>typeof t=="bigint")}function g1(){return Ge("boolean",t=>typeof t=="boolean")}function b1(){return Ge("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${xe(t)}`)}function y1(t){const e={},r=t.map(n=>xe(n)).join();for(const n of t)e[n]=n;return new Ee({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${xe(n)}`}})}function v1(){return Ge("func",t=>typeof t=="function"||`Expected a function, but received: ${xe(t)}`)}function m1(t){return Ge("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${xe(e)}`)}function _1(){return Ge("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${xe(t)}`)}function w1(t){return new Ee({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function S1(t){const e=xe(t),r=typeof t;return new Ee({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${xe(n)}`}})}function E1(t,e){return new Ee({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${xe(r)}`}})}function qc(){return Ge("never",()=>!1)}function C1(t){return new Ee({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function R1(){return Ge("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${xe(t)}`)}function ri(t){const e=t?Object.keys(t):[],r=qc();return new Ee({type:"object",schema:t||null,*entries(n){if(t&&st(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return st(n)||`Expected an object, but received: ${xe(n)}`},coercer(n){return st(n)?{...n}:n}})}function $d(t){return new Ee({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function x1(t,e){return new Ee({type:"record",schema:null,*entries(r){if(st(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return st(r)||`Expected an object, but received: ${xe(r)}`}})}function I1(){return Ge("regexp",t=>t instanceof RegExp)}function A1(t){return new Ee({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${xe(e)}`}})}function Dd(){return Ge("string",t=>typeof t=="string"||`Expected a string, but received: ${xe(t)}`)}function k1(t){const e=qc();return new Ee({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${xe(r)}`}})}function Gc(t){const e=Object.keys(t);return new Ee({type:"type",schema:t,*entries(r){if(st(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return st(r)||`Expected an object, but received: ${xe(r)}`},coercer(r){return st(r)?{...r}:r}})}function M1(t){const e=t.map(r=>r.type).join(" | ");return new Ee({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Uc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${xe(r)}`,...i]}})}function jd(){return Ge("unknown",()=>!0)}function Jc(t,e,r){return new Ee({...t,coercer:(n,i)=>zc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function O1(t,e,r={}){return Jc(t,jd(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Pl(n)&&Pl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function T1(t){return Jc(t,Dd(),e=>e.trim())}function N1(t){return Ar(t,"empty",e=>{const r=Bd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Bd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function L1(t,e,r={}){const{exclusive:n}=r;return Ar(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function P1(t,e,r={}){const{exclusive:n}=r;return Ar(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function $1(t){return Ar(t,"nonempty",e=>Bd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function D1(t,e){return Ar(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function j1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Ar(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Ar(t,e,r){return new Ee({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=hc(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const B1=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ee,StructError:Td,any:h1,array:d1,assert:Nd,assign:i1,bigint:p1,boolean:g1,coerce:Jc,create:Ld,date:b1,defaulted:O1,define:Ge,deprecated:s1,dynamic:o1,empty:N1,enums:y1,func:v1,instance:m1,integer:_1,intersection:w1,is:zc,lazy:a1,literal:S1,map:E1,mask:Pd,max:L1,min:P1,never:qc,nonempty:$1,nullable:C1,number:R1,object:ri,omit:c1,optional:$d,partial:u1,pattern:D1,pick:l1,record:x1,refine:Ar,regexp:I1,set:A1,size:j1,string:Dd,struct:f1,trimmed:T1,tuple:k1,type:Gc,union:M1,unknown:jd,validate:yn},Symbol.toStringTag,{value:"Module"})),kr=un(B1);Object.defineProperty(Le,"__esModule",{value:!0});Le.assertExhaustive=Le.assertStruct=Le.assert=Le.AssertionError=void 0;const F1=kr;function W1(t){return typeof t=="object"&&t!==null&&"message"in t}function H1(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function V1(t){const e=W1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Fd(t,e){return H1(t)?new t({message:e}):t({message:e})}class Qc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Le.AssertionError=Qc;function U1(t,e="Assertion failed.",r=Qc){if(!t)throw e instanceof Error?e:Fd(r,e)}Le.assert=U1;function z1(t,e,r="Assertion failed",n=Qc){try{(0,F1.assert)(t,e)}catch(i){throw Fd(n,`${r}: ${V1(i)}.`)}}Le.assertStruct=z1;function q1(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Le.assertExhaustive=q1;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.base64=void 0;const G1=kr,J1=Le,Q1=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,J1.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,G1.pattern)(t,a)};ni.base64=Q1;var ce={},ii={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=kr,r=Le;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(ii);Object.defineProperty(ce,"__esModule",{value:!0});ce.createDataView=ce.concatBytes=ce.valueToBytes=ce.stringToBytes=ce.numberToBytes=ce.signedBigIntToBytes=ce.bigIntToBytes=ce.hexToBytes=ce.bytesToString=ce.bytesToNumber=ce.bytesToSignedBigInt=ce.bytesToBigInt=ce.bytesToHex=ce.assertIsBytes=ce.isBytes=void 0;const Ze=Le,dc=ii,$l=48,Dl=58,jl=87;function Z1(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Y1=Z1();function Zc(t){return t instanceof Uint8Array}ce.isBytes=Zc;function vn(t){(0,Ze.assert)(Zc(t),"Value must be a Uint8Array.")}ce.assertIsBytes=vn;function Wd(t){if(vn(t),t.length===0)return"0x";const e=Y1(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,dc.add0x)(r.join(""))}ce.bytesToHex=Wd;function Hd(t){vn(t);const e=Wd(t);return BigInt(e)}ce.bytesToBigInt=Hd;function K1(t){vn(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ce.bytesToSignedBigInt=K1;function X1(t){vn(t);const e=Hd(t);return(0,Ze.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ce.bytesToNumber=X1;function e_(t){return vn(t),new TextDecoder().decode(t)}ce.bytesToString=e_;function vs(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,dc.assertIsHexString)(t);const r=(0,dc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Dl?$l:jl),l=a-(a<Dl?$l:jl);i[s]=c*16+l}return i}ce.hexToBytes=vs;function Vd(t){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return vs(e)}ce.bigIntToBytes=Vd;function t_(t,e){(0,Ze.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function r_(t,e){(0,Ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ze.assert)(typeof e=="number","Byte length must be a number."),(0,Ze.assert)(e>0,"Byte length must be greater than 0."),(0,Ze.assert)(t_(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ce.signedBigIntToBytes=r_;function Ud(t){(0,Ze.assert)(typeof t=="number","Value must be a number."),(0,Ze.assert)(t>=0,"Value must be a non-negative number."),(0,Ze.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return vs(e)}ce.numberToBytes=Ud;function zd(t){return(0,Ze.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ce.stringToBytes=zd;function qd(t){if(typeof t=="bigint")return Vd(t);if(typeof t=="number")return Ud(t);if(typeof t=="string")return t.startsWith("0x")?vs(t):zd(t);if(Zc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ce.valueToBytes=qd;function n_(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=qd(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ce.concatBytes=n_;function i_(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ce.createDataView=i_;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.ChecksumStruct=void 0;const Bl=kr,s_=ni;ms.ChecksumStruct=(0,Bl.size)((0,s_.base64)((0,Bl.string)(),{paddingRequired:!0}),44,44);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.createHex=xt.createBytes=xt.createBigInt=xt.createNumber=void 0;const me=kr,o_=Le,Gd=ce,_s=ii,Jd=(0,me.union)([(0,me.number)(),(0,me.bigint)(),(0,me.string)(),_s.StrictHexStruct]),a_=(0,me.coerce)((0,me.number)(),Jd,Number),c_=(0,me.coerce)((0,me.bigint)(),Jd,BigInt);(0,me.union)([_s.StrictHexStruct,(0,me.instance)(Uint8Array)]);const u_=(0,me.coerce)((0,me.instance)(Uint8Array),(0,me.union)([_s.StrictHexStruct]),Gd.hexToBytes),l_=(0,me.coerce)(_s.StrictHexStruct,(0,me.instance)(Uint8Array),Gd.bytesToHex);function f_(t){try{const e=(0,me.create)(t,a_);return(0,o_.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}xt.createNumber=f_;function h_(t){try{return(0,me.create)(t,c_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}xt.createBigInt=h_;function d_(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,me.create)(t,u_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}xt.createBytes=d_;function p_(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,me.create)(t,l_)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}xt.createHex=p_;var nn={},Qd=q&&q.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ue=q&&q.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ct,mt;Object.defineProperty(nn,"__esModule",{value:!0});nn.FrozenSet=nn.FrozenMap=void 0;class Yc{constructor(e){ct.set(this,void 0),Qd(this,ct,new Map(e),"f"),Object.freeze(this)}get size(){return Ue(this,ct,"f").size}[(ct=new WeakMap,Symbol.iterator)](){return Ue(this,ct,"f")[Symbol.iterator]()}entries(){return Ue(this,ct,"f").entries()}forEach(e,r){return Ue(this,ct,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Ue(this,ct,"f").get(e)}has(e){return Ue(this,ct,"f").has(e)}keys(){return Ue(this,ct,"f").keys()}values(){return Ue(this,ct,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}nn.FrozenMap=Yc;class Kc{constructor(e){mt.set(this,void 0),Qd(this,mt,new Set(e),"f"),Object.freeze(this)}get size(){return Ue(this,mt,"f").size}[(mt=new WeakMap,Symbol.iterator)](){return Ue(this,mt,"f")[Symbol.iterator]()}entries(){return Ue(this,mt,"f").entries()}forEach(e,r){return Ue(this,mt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Ue(this,mt,"f").has(e)}keys(){return Ue(this,mt,"f").keys()}values(){return Ue(this,mt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}nn.FrozenSet=Kc;Object.freeze(Yc);Object.freeze(Yc.prototype);Object.freeze(Kc);Object.freeze(Kc.prototype);var Zd={},Xc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,u)=>Object.hasOwnProperty.call(l,u);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let u=l;for(;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(l)===u}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var u;return l.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((u=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&u!==void 0?u:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(Xc);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=kr,r=Le,n=Xc;t.JsonStruct=(0,e.define)("Json",x=>{const[$]=I(x,!0);return $?!0:"Expected a valid JSON-serializable value"});function i(x){return(0,e.is)(x,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(x){return(0,e.is)(x,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(x,$){(0,r.assertStruct)(x,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",$)}t.assertIsJsonRpcNotification=o;function a(x){return(0,e.is)(x,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(x,$){(0,r.assertStruct)(x,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",$)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(x){return(0,e.is)(x,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function u(x,$){(0,r.assertStruct)(x,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",$)}t.assertIsPendingJsonRpcResponse=u;function h(x){return(0,e.is)(x,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function f(x,$){(0,r.assertStruct)(x,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",$)}t.assertIsJsonRpcResponse=f;function d(x){return(0,e.is)(x,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function _(x,$){(0,r.assertStruct)(x,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",$)}t.assertIsJsonRpcSuccess=_;function A(x){return(0,e.is)(x,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=A;function C(x,$){(0,r.assertStruct)(x,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",$)}t.assertIsJsonRpcFailure=C;function p(x){return(0,e.is)(x,t.JsonRpcErrorStruct)}t.isJsonRpcError=p;function y(x,$){(0,r.assertStruct)(x,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",$)}t.assertIsJsonRpcError=y;function E(x){const{permitEmptyString:$,permitFractions:z,permitNull:B}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},x);return Q=>!!(typeof Q=="number"&&(z||Number.isInteger(Q))||typeof Q=="string"&&($||Q.length>0)||B&&Q===null)}t.getJsonRpcIdValidator=E;function I(x,$=!1){const z=new Set;function B(D,Q){if(D===void 0)return[!1,0];if(D===null)return[!0,Q?0:n.JsonSize.Null];const ae=typeof D;try{if(ae==="function")return[!1,0];if(ae==="string"||D instanceof String)return[!0,Q?0:(0,n.calculateStringSize)(D)+n.JsonSize.Quote*2];if(ae==="boolean"||D instanceof Boolean)return Q?[!0,0]:[!0,D==!0?n.JsonSize.True:n.JsonSize.False];if(ae==="number"||D instanceof Number)return Q?[!0,0]:[!0,(0,n.calculateNumberSize)(D)];if(D instanceof Date)return Q?[!0,0]:[!0,isNaN(D.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(D)&&!Array.isArray(D))return[!1,0];if(z.has(D))return[!1,0];z.add(D);try{return[!0,Object.entries(D).reduce((K,[P,k],F,W)=>{let[m,w]=B(k,Q);if(!m)throw new Error("JSON validation did not pass. Validation process stopped.");if(z.delete(D),Q)return 0;const R=Array.isArray(D)?0:P.length+n.JsonSize.Comma+n.JsonSize.Colon*2,M=F<W.length-1?n.JsonSize.Comma:0;return K+R+w+M},Q?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return B(x,$)}t.validateJsonAndGetSize=I})(Zd);var sn={},pc={exports:{}},Ra,Fl;function g_(){if(Fl)return Ra;Fl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ra=function(u,h){h=h||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return h.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var f=parseFloat(h[1]),d=(h[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var h=Math.abs(u);return h>=n?Math.round(u/n)+"d":h>=r?Math.round(u/r)+"h":h>=e?Math.round(u/e)+"m":h>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var h=Math.abs(u);return h>=n?l(u,h,n,"day"):h>=r?l(u,h,r,"hour"):h>=e?l(u,h,e,"minute"):h>=t?l(u,h,t,"second"):u+" ms"}function l(u,h,f,d){var _=h>=f*1.5;return Math.round(u/f)+" "+d+(_?"s":"")}return Ra}function b_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=g_(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let h=0;for(let f=0;f<u.length;f++)h=(h<<5)-h+u.charCodeAt(f),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(u){let h,f=null,d,_;function A(...C){if(!A.enabled)return;const p=A,y=Number(new Date),E=y-(h||y);p.diff=E,p.prev=h,p.curr=y,h=y,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let I=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,($,z)=>{if($==="%%")return"%";I++;const B=r.formatters[z];if(typeof B=="function"){const D=C[I];$=B.call(p,D),C.splice(I,1),I--}return $}),r.formatArgs.call(p,C),(p.log||r.log).apply(p,C)}return A.namespace=u,A.useColors=r.useColors(),A.color=r.selectColor(u),A.extend=n,A.destroy=r.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==r.namespaces&&(d=r.namespaces,_=r.enabled(u)),_),set:C=>{f=C}}),typeof r.init=="function"&&r.init(A),A}function n(u,h){const f=r(this.namespace+(typeof h>"u"?":":h)+u);return f.log=this.log,f}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let h;const f=(typeof u=="string"?u:"").split(/[\s,]+/),d=f.length;for(h=0;h<d;h++)f[h]&&(u=f[h].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let h,f;for(h=0,f=r.skips.length;h<f;h++)if(r.skips[h].test(u))return!1;for(h=0,f=r.names.length;h<f;h++)if(r.names[h].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var y_=b_;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(h=u))}),c.splice(h,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=y_(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(pc,pc.exports);var v_=pc.exports,m_=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.createModuleLogger=sn.createProjectLogger=void 0;const __=m_(v_),w_=(0,__.default)("metamask");function S_(t){return w_.extend(t)}sn.createProjectLogger=S_;function E_(t,e){return t.extend(e)}sn.createModuleLogger=E_;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.hexToBigInt=It.hexToNumber=It.bigIntToHex=It.numberToHex=void 0;const zr=Le,Hn=ii,C_=t=>((0,zr.assert)(typeof t=="number","Value must be a number."),(0,zr.assert)(t>=0,"Value must be a non-negative number."),(0,zr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Hn.add0x)(t.toString(16)));It.numberToHex=C_;const R_=t=>((0,zr.assert)(typeof t=="bigint","Value must be a bigint."),(0,zr.assert)(t>=0,"Value must be a non-negative bigint."),(0,Hn.add0x)(t.toString(16)));It.bigIntToHex=R_;const x_=t=>{(0,Hn.assertIsHexString)(t);const e=parseInt(t,16);return(0,zr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};It.hexToNumber=x_;const I_=t=>((0,Hn.assertIsHexString)(t),BigInt((0,Hn.add0x)(t)));It.hexToBigInt=I_;var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});var Kd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Kd);var Xd={},gc={exports:{}};const A_="2.0.0",k_=256,M_=Number.MAX_SAFE_INTEGER||9007199254740991,O_=16,T_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ws={MAX_LENGTH:k_,MAX_SAFE_COMPONENT_LENGTH:O_,MAX_SAFE_INTEGER:M_,RELEASE_TYPES:T_,SEMVER_SPEC_VERSION:A_,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const N_=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ss=N_;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=ws,n=Ss;e=t.exports={};const i=e.re=[],s=e.src=[],o=e.t={};let a=0;const c=(l,u,h)=>{const f=a++;n(l,f,u),o[l]=f,s[f]=u,i[f]=new RegExp(u,h?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),c("FULL",`^${s[o.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),c("LOOSE",`^${s[o.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),c("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",s[o.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(gc,gc.exports);var si=gc.exports;const L_=Object.freeze({loose:!0}),P_=Object.freeze({}),$_=t=>t?typeof t!="object"?L_:t:P_;var eu=$_;const Wl=/^[0-9]+$/,ep=(t,e)=>{const r=Wl.test(t),n=Wl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},D_=(t,e)=>ep(e,t);var tp={compareIdentifiers:ep,rcompareIdentifiers:D_};const wi=Ss,{MAX_LENGTH:Hl,MAX_SAFE_INTEGER:Si}=ws,{re:Vl,t:Ul}=si,j_=eu,{compareIdentifiers:Pr}=tp;let B_=class wt{constructor(e,r){if(r=j_(r),e instanceof wt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Hl)throw new TypeError(`version is longer than ${Hl} characters`);wi("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Vl[Ul.LOOSE]:Vl[Ul.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Si||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Si||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Si||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Si)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(wi("SemVer.compare",this.version,this.options,e),!(e instanceof wt)){if(typeof e=="string"&&e===this.version)return 0;e=new wt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof wt||(e=new wt(e,this.options)),Pr(this.major,e.major)||Pr(this.minor,e.minor)||Pr(this.patch,e.patch)}comparePre(e){if(e instanceof wt||(e=new wt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(wi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pr(n,i)}while(++r)}compareBuild(e){e instanceof wt||(e=new wt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(wi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Pr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Pr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var ze=B_;const zl=ze,F_=(t,e,r=!1)=>{if(t instanceof zl)return t;try{return new zl(t,e)}catch(n){if(!r)return null;throw n}};var mn=F_;const W_=mn,H_=(t,e)=>{const r=W_(t,e);return r?r.version:null};var V_=H_;const U_=mn,z_=(t,e)=>{const r=U_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var q_=z_;const ql=ze,G_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ql(t instanceof ql?t.version:t,r).inc(e,n,i).version}catch{return null}};var J_=G_;const Gl=mn,Q_=(t,e)=>{const r=Gl(t,null,!0),n=Gl(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length,l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":c?"prerelease":a.patch?"patch":a.minor?"minor":"major"};var Z_=Q_;const Y_=ze,K_=(t,e)=>new Y_(t,e).major;var X_=K_;const ew=ze,tw=(t,e)=>new ew(t,e).minor;var rw=tw;const nw=ze,iw=(t,e)=>new nw(t,e).patch;var sw=iw;const ow=mn,aw=(t,e)=>{const r=ow(t,e);return r&&r.prerelease.length?r.prerelease:null};var cw=aw;const Jl=ze,uw=(t,e,r)=>new Jl(t,r).compare(new Jl(e,r));var gt=uw;const lw=gt,fw=(t,e,r)=>lw(e,t,r);var hw=fw;const dw=gt,pw=(t,e)=>dw(t,e,!0);var gw=pw;const Ql=ze,bw=(t,e,r)=>{const n=new Ql(t,r),i=new Ql(e,r);return n.compare(i)||n.compareBuild(i)};var tu=bw;const yw=tu,vw=(t,e)=>t.sort((r,n)=>yw(r,n,e));var mw=vw;const _w=tu,ww=(t,e)=>t.sort((r,n)=>_w(n,r,e));var Sw=ww;const Ew=gt,Cw=(t,e,r)=>Ew(t,e,r)>0;var Es=Cw;const Rw=gt,xw=(t,e,r)=>Rw(t,e,r)<0;var ru=xw;const Iw=gt,Aw=(t,e,r)=>Iw(t,e,r)===0;var rp=Aw;const kw=gt,Mw=(t,e,r)=>kw(t,e,r)!==0;var np=Mw;const Ow=gt,Tw=(t,e,r)=>Ow(t,e,r)>=0;var nu=Tw;const Nw=gt,Lw=(t,e,r)=>Nw(t,e,r)<=0;var iu=Lw;const Pw=rp,$w=np,Dw=Es,jw=nu,Bw=ru,Fw=iu,Ww=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Pw(t,r,n);case"!=":return $w(t,r,n);case">":return Dw(t,r,n);case">=":return jw(t,r,n);case"<":return Bw(t,r,n);case"<=":return Fw(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var ip=Ww;const Hw=ze,Vw=mn,{re:Ei,t:Ci}=si,Uw=(t,e)=>{if(t instanceof Hw)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Ei[Ci.COERCE]);else{let n;for(;(n=Ei[Ci.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ei[Ci.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ei[Ci.COERCERTL].lastIndex=-1}return r===null?null:Vw(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var zw=Uw,xa,Zl;function qw(){return Zl||(Zl=1,xa=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),xa}var Gw=ue;ue.Node=Sr;ue.create=ue;function ue(t){var e=this;if(e instanceof ue||(e=new ue),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ue.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ue.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ue.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ue.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Qw(this,arguments[t]);return this.length};ue.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Zw(this,arguments[t]);return this.length};ue.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ue.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ue.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ue.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ue.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ue.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ue.prototype.map=function(t,e){e=e||this;for(var r=new ue,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ue.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ue,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ue.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ue.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ue.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ue.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ue.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ue;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ue.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ue;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ue.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Jw(this,i,r[n]);return s};ue.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Jw(t,e,r){var n=e===t.head?new Sr(r,null,e,t):new Sr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Qw(t,e){t.tail=new Sr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Zw(t,e){t.head=new Sr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Sr(t,e,r,n){if(!(this instanceof Sr))return new Sr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{qw()(ue)}catch{}const Yw=Gw,dr=Symbol("max"),jt=Symbol("length"),$r=Symbol("lengthCalculator"),Pn=Symbol("allowStale"),yr=Symbol("maxAge"),Pt=Symbol("dispose"),Yl=Symbol("noDisposeOnSet"),Me=Symbol("lruList"),ft=Symbol("cache"),sp=Symbol("updateAgeOnGet"),Ia=()=>1;class Kw{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[dr]=e.max||1/0;const r=e.length||Ia;if(this[$r]=typeof r!="function"?Ia:r,this[Pn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[yr]=e.maxAge||0,this[Pt]=e.dispose,this[Yl]=e.noDisposeOnSet||!1,this[sp]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[dr]=e||1/0,Rn(this)}get max(){return this[dr]}set allowStale(e){this[Pn]=!!e}get allowStale(){return this[Pn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[yr]=e,Rn(this)}get maxAge(){return this[yr]}set lengthCalculator(e){typeof e!="function"&&(e=Ia),e!==this[$r]&&(this[$r]=e,this[jt]=0,this[Me].forEach(r=>{r.length=this[$r](r.value,r.key),this[jt]+=r.length})),Rn(this)}get lengthCalculator(){return this[$r]}get length(){return this[jt]}get itemCount(){return this[Me].length}rforEach(e,r){r=r||this;for(let n=this[Me].tail;n!==null;){const i=n.prev;Kl(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Me].head;n!==null;){const i=n.next;Kl(this,e,n,r),n=i}}keys(){return this[Me].toArray().map(e=>e.key)}values(){return this[Me].toArray().map(e=>e.value)}reset(){this[Pt]&&this[Me]&&this[Me].length&&this[Me].forEach(e=>this[Pt](e.key,e.value)),this[ft]=new Map,this[Me]=new Yw,this[jt]=0}dump(){return this[Me].map(e=>zi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Me]}set(e,r,n){if(n=n||this[yr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[$r](r,e);if(this[ft].has(e)){if(s>this[dr])return qr(this,this[ft].get(e)),!1;const c=this[ft].get(e).value;return this[Pt]&&(this[Yl]||this[Pt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[jt]+=s-c.length,c.length=s,this.get(e),Rn(this),!0}const o=new Xw(e,r,s,i,n);return o.length>this[dr]?(this[Pt]&&this[Pt](e,r),!1):(this[jt]+=o.length,this[Me].unshift(o),this[ft].set(e,this[Me].head),Rn(this),!0)}has(e){if(!this[ft].has(e))return!1;const r=this[ft].get(e).value;return!zi(this,r)}get(e){return Aa(this,e,!0)}peek(e){return Aa(this,e,!1)}pop(){const e=this[Me].tail;return e?(qr(this,e),e.value):null}del(e){qr(this,this[ft].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[ft].forEach((e,r)=>Aa(this,r,!1))}}const Aa=(t,e,r)=>{const n=t[ft].get(e);if(n){const i=n.value;if(zi(t,i)){if(qr(t,n),!t[Pn])return}else r&&(t[sp]&&(n.value.now=Date.now()),t[Me].unshiftNode(n));return i.value}},zi=(t,e)=>{if(!e||!e.maxAge&&!t[yr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[yr]&&r>t[yr]},Rn=t=>{if(t[jt]>t[dr])for(let e=t[Me].tail;t[jt]>t[dr]&&e!==null;){const r=e.prev;qr(t,e),e=r}},qr=(t,e)=>{if(e){const r=e.value;t[Pt]&&t[Pt](r.key,r.value),t[jt]-=r.length,t[ft].delete(r.key),t[Me].removeNode(e)}};class Xw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Kl=(t,e,r,n)=>{let i=r.value;zi(t,i)&&(qr(t,r),t[Pn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var e2=Kw,ka,Xl;function bt(){if(Xl)return ka;Xl=1;class t{constructor(k,F){if(F=n(F),k instanceof t)return k.loose===!!F.loose&&k.includePrerelease===!!F.includePrerelease?k:new t(k.raw,F);if(k instanceof i)return this.raw=k.value,this.set=[[k]],this.format(),this;if(this.options=F,this.loose=!!F.loose,this.includePrerelease=!!F.includePrerelease,this.raw=k,this.set=k.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${k}`);if(this.set.length>1){const W=this.set[0];if(this.set=this.set.filter(m=>!_(m[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(const m of this.set)if(m.length===1&&A(m[0])){this.set=[m];break}}}this.format()}format(){return this.range=this.set.map(k=>k.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(k){k=k.trim();const W=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+k,m=r.get(W);if(m)return m;const w=this.options.loose,R=w?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];k=k.replace(R,ae(this.options.includePrerelease)),s("hyphen replace",k),k=k.replace(a[c.COMPARATORTRIM],l),s("comparator trim",k),k=k.replace(a[c.TILDETRIM],u),k=k.replace(a[c.CARETTRIM],h),k=k.split(/\s+/).join(" ");let M=k.split(" ").map(G=>p(G,this.options)).join(" ").split(/\s+/).map(G=>Q(G,this.options));w&&(M=M.filter(G=>(s("loose invalid filter",G,this.options),!!G.match(a[c.COMPARATORLOOSE])))),s("range list",M);const O=new Map,T=M.map(G=>new i(G,this.options));for(const G of T){if(_(G))return[G];O.set(G.value,G)}O.size>1&&O.has("")&&O.delete("");const V=[...O.values()];return r.set(W,V),V}intersects(k,F){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(W=>C(W,F)&&k.set.some(m=>C(m,F)&&W.every(w=>m.every(R=>w.intersects(R,F)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new o(k,this.options)}catch{return!1}for(let F=0;F<this.set.length;F++)if(K(this.set[F],k,this.options))return!0;return!1}}ka=t;const e=e2,r=new e({max:1e3}),n=eu,i=Cs(),s=Ss,o=ze,{re:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:h}=si,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=ws,_=P=>P.value==="<0.0.0-0",A=P=>P.value==="",C=(P,k)=>{let F=!0;const W=P.slice();let m=W.pop();for(;F&&W.length;)F=W.every(w=>m.intersects(w,k)),m=W.pop();return F},p=(P,k)=>(s("comp",P,k),P=x(P,k),s("caret",P),P=E(P,k),s("tildes",P),P=z(P,k),s("xrange",P),P=D(P,k),s("stars",P),P),y=P=>!P||P.toLowerCase()==="x"||P==="*",E=(P,k)=>P.trim().split(/\s+/).map(F=>I(F,k)).join(" "),I=(P,k)=>{const F=k.loose?a[c.TILDELOOSE]:a[c.TILDE];return P.replace(F,(W,m,w,R,M)=>{s("tilde",P,W,m,w,R,M);let O;return y(m)?O="":y(w)?O=`>=${m}.0.0 <${+m+1}.0.0-0`:y(R)?O=`>=${m}.${w}.0 <${m}.${+w+1}.0-0`:M?(s("replaceTilde pr",M),O=`>=${m}.${w}.${R}-${M} <${m}.${+w+1}.0-0`):O=`>=${m}.${w}.${R} <${m}.${+w+1}.0-0`,s("tilde return",O),O})},x=(P,k)=>P.trim().split(/\s+/).map(F=>$(F,k)).join(" "),$=(P,k)=>{s("caret",P,k);const F=k.loose?a[c.CARETLOOSE]:a[c.CARET],W=k.includePrerelease?"-0":"";return P.replace(F,(m,w,R,M,O)=>{s("caret",P,m,w,R,M,O);let T;return y(w)?T="":y(R)?T=`>=${w}.0.0${W} <${+w+1}.0.0-0`:y(M)?w==="0"?T=`>=${w}.${R}.0${W} <${w}.${+R+1}.0-0`:T=`>=${w}.${R}.0${W} <${+w+1}.0.0-0`:O?(s("replaceCaret pr",O),w==="0"?R==="0"?T=`>=${w}.${R}.${M}-${O} <${w}.${R}.${+M+1}-0`:T=`>=${w}.${R}.${M}-${O} <${w}.${+R+1}.0-0`:T=`>=${w}.${R}.${M}-${O} <${+w+1}.0.0-0`):(s("no pr"),w==="0"?R==="0"?T=`>=${w}.${R}.${M}${W} <${w}.${R}.${+M+1}-0`:T=`>=${w}.${R}.${M}${W} <${w}.${+R+1}.0-0`:T=`>=${w}.${R}.${M} <${+w+1}.0.0-0`),s("caret return",T),T})},z=(P,k)=>(s("replaceXRanges",P,k),P.split(/\s+/).map(F=>B(F,k)).join(" ")),B=(P,k)=>{P=P.trim();const F=k.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return P.replace(F,(W,m,w,R,M,O)=>{s("xRange",P,W,m,w,R,M,O);const T=y(w),V=T||y(R),G=V||y(M),he=G;return m==="="&&he&&(m=""),O=k.includePrerelease?"-0":"",T?m===">"||m==="<"?W="<0.0.0-0":W="*":m&&he?(V&&(R=0),M=0,m===">"?(m=">=",V?(w=+w+1,R=0,M=0):(R=+R+1,M=0)):m==="<="&&(m="<",V?w=+w+1:R=+R+1),m==="<"&&(O="-0"),W=`${m+w}.${R}.${M}${O}`):V?W=`>=${w}.0.0${O} <${+w+1}.0.0-0`:G&&(W=`>=${w}.${R}.0${O} <${w}.${+R+1}.0-0`),s("xRange return",W),W})},D=(P,k)=>(s("replaceStars",P,k),P.trim().replace(a[c.STAR],"")),Q=(P,k)=>(s("replaceGTE0",P,k),P.trim().replace(a[k.includePrerelease?c.GTE0PRE:c.GTE0],"")),ae=P=>(k,F,W,m,w,R,M,O,T,V,G,he,v)=>(y(W)?F="":y(m)?F=`>=${W}.0.0${P?"-0":""}`:y(w)?F=`>=${W}.${m}.0${P?"-0":""}`:R?F=`>=${F}`:F=`>=${F}${P?"-0":""}`,y(T)?O="":y(V)?O=`<${+T+1}.0.0-0`:y(G)?O=`<${T}.${+V+1}.0-0`:he?O=`<=${T}.${V}.${G}-${he}`:P?O=`<${T}.${V}.${+G+1}-0`:O=`<=${O}`,`${F} ${O}`.trim()),K=(P,k,F)=>{for(let W=0;W<P.length;W++)if(!P[W].test(k))return!1;if(k.prerelease.length&&!F.includePrerelease){for(let W=0;W<P.length;W++)if(s(P[W].semver),P[W].semver!==i.ANY&&P[W].semver.prerelease.length>0){const m=P[W].semver;if(m.major===k.major&&m.minor===k.minor&&m.patch===k.patch)return!0}return!1}return!0};return ka}var Ma,ef;function Cs(){if(ef)return Ma;ef=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,h){if(h=r(h),u instanceof e){if(u.loose===!!h.loose)return u;u=u.value}o("comparator",u,h),this.options=h,this.loose=!!h.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=u.match(h);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,h){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,h).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,h).test(u.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,h)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,h)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Ma=e;const r=eu,{re:n,t:i}=si,s=ip,o=Ss,a=ze,c=bt();return Ma}const t2=bt(),r2=(t,e,r)=>{try{e=new t2(e,r)}catch{return!1}return e.test(t)};var Rs=r2;const n2=bt(),i2=(t,e)=>new n2(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var s2=i2;const o2=ze,a2=bt(),c2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new a2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new o2(n,r))}),n};var u2=c2;const l2=ze,f2=bt(),h2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new f2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new l2(n,r))}),n};var d2=h2;const Oa=ze,p2=bt(),tf=Es,g2=(t,e)=>{t=new p2(t,e);let r=new Oa("0.0.0");if(t.test(r)||(r=new Oa("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Oa(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||tf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||tf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var b2=g2;const y2=bt(),v2=(t,e)=>{try{return new y2(t,e).range||"*"}catch{return null}};var m2=v2;const _2=ze,op=Cs(),{ANY:w2}=op,S2=bt(),E2=Rs,rf=Es,nf=ru,C2=iu,R2=nu,x2=(t,e,r,n)=>{t=new _2(t,n),e=new S2(e,n);let i,s,o,a,c;switch(r){case">":i=rf,s=C2,o=nf,a=">",c=">=";break;case"<":i=nf,s=R2,o=rf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(E2(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let h=null,f=null;if(u.forEach(d=>{d.semver===w2&&(d=new op(">=0.0.0")),h=h||d,f=f||d,i(d.semver,h.semver,n)?h=d:o(d.semver,f.semver,n)&&(f=d)}),h.operator===a||h.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var su=x2;const I2=su,A2=(t,e,r)=>I2(t,e,">",r);var k2=A2;const M2=su,O2=(t,e,r)=>M2(t,e,"<",r);var T2=O2;const sf=bt(),N2=(t,e,r)=>(t=new sf(t,r),e=new sf(e,r),t.intersects(e,r));var L2=N2;const P2=Rs,$2=gt;var D2=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((u,h)=>$2(u,h,r));for(const u of o)P2(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[u,h]of n)u===h?a.push(u):!h&&u===o[0]?a.push("*"):h?u===o[0]?a.push(`<=${h}`):a.push(`${u} - ${h}`):a.push(`>=${u}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const of=bt(),ou=Cs(),{ANY:Ta}=ou,xn=Rs,au=gt,j2=(t,e,r={})=>{if(t===e)return!0;t=new of(t,r),e=new of(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=F2(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},B2=[new ou(">=0.0.0-0")],af=[new ou(">=0.0.0")],F2=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ta){if(e.length===1&&e[0].semver===Ta)return!0;r.includePrerelease?t=B2:t=af}if(e.length===1&&e[0].semver===Ta){if(r.includePrerelease)return!0;e=af}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=cf(i,d,r):d.operator==="<"||d.operator==="<="?s=uf(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=au(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!xn(d,String(i),r)||s&&!xn(d,String(s),r))return null;for(const _ of e)if(!xn(d,String(_),r))return!1;return!0}let a,c,l,u,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const d of e){if(u=u||d.operator===">"||d.operator===">=",l=l||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=cf(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!xn(i.semver,String(d),r))return!1}if(s){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator==="<"||d.operator==="<="){if(c=uf(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!xn(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&u&&!i&&o!==0||f||h)},cf=(t,e,r)=>{if(!t)return e;const n=au(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},uf=(t,e,r)=>{if(!t)return e;const n=au(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var W2=j2;const Na=si,lf=ws,H2=ze,ff=tp,V2=mn,U2=V_,z2=q_,q2=J_,G2=Z_,J2=X_,Q2=rw,Z2=sw,Y2=cw,K2=gt,X2=hw,eS=gw,tS=tu,rS=mw,nS=Sw,iS=Es,sS=ru,oS=rp,aS=np,cS=nu,uS=iu,lS=ip,fS=zw,hS=Cs(),dS=bt(),pS=Rs,gS=s2,bS=u2,yS=d2,vS=b2,mS=m2,_S=su,wS=k2,SS=T2,ES=L2,CS=D2,RS=W2;var xS={parse:V2,valid:U2,clean:z2,inc:q2,diff:G2,major:J2,minor:Q2,patch:Z2,prerelease:Y2,compare:K2,rcompare:X2,compareLoose:eS,compareBuild:tS,sort:rS,rsort:nS,gt:iS,lt:sS,eq:oS,neq:aS,gte:cS,lte:uS,cmp:lS,coerce:fS,Comparator:hS,Range:dS,satisfies:pS,toComparators:gS,maxSatisfying:bS,minSatisfying:yS,minVersion:vS,validRange:mS,outside:_S,gtr:wS,ltr:SS,intersects:ES,simplifyRange:CS,subset:RS,SemVer:H2,re:Na.re,src:Na.src,tokens:Na.t,SEMVER_SPEC_VERSION:lf.SEMVER_SPEC_VERSION,RELEASE_TYPES:lf.RELEASE_TYPES,compareIdentifiers:ff.compareIdentifiers,rcompareIdentifiers:ff.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=xS,r=kr,n=Le;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,r.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,r.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,n.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(h,f){return(0,e.gt)(h,f)}t.gtVersion=c;function l(h,f){return(0,e.gtr)(h,f)}t.gtRange=l;function u(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=u})(Xd);(function(t){var e=q&&q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=q&&q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Le,t),r(ni,t),r(ce,t),r(ms,t),r(xt,t),r(nn,t),r(ii,t),r(Zd,t),r(sn,t),r(Xc,t),r(It,t),r(Yd,t),r(Kd,t),r(Xd,t)})(Od);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Od;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Md);var ap=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.PollingBlockTracker=void 0;const IS=ap(Vc),AS=ap(Qm),kS=ti,hf=Md,df=(0,hf.createModuleLogger)(hf.projectLogger,"polling-block-tracker"),MS=(0,IS.default)(),OS=1e3;class TS extends kS.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*OS,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=pf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=pf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:MS(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),df("Making request",e);const r=await(0,AS.default)(n=>this._provider.sendAsync(e,n))();if(df("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}ys.PollingBlockTracker=TS;function pf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var xs={},NS=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});xs.SubscribeBlockTracker=void 0;const LS=NS(Vc),PS=ti,$S=(0,LS.default)();class DS extends PS.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:$S(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}xs.SubscribeBlockTracker=DS;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});(function(t){var e=q&&q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=q&&q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ys,t),r(xs,t),r(cp,t)})(kd);var cu={},Is={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.getUniqueId=void 0;const up=4294967295;let La=Math.floor(Math.random()*up);function jS(){return La=(La+1)%up,La}oi.getUniqueId=jS;Object.defineProperty(Is,"__esModule",{value:!0});Is.createIdRemapMiddleware=void 0;const BS=oi;function FS(){return(t,e,r,n)=>{const i=t.id,s=BS.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Is.createIdRemapMiddleware=FS;var As={};Object.defineProperty(As,"__esModule",{value:!0});As.createAsyncMiddleware=void 0;function WS(t){return async(e,r,n,i)=>{let s;const o=new Promise(u=>{s=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(u){a?a(u):i(u)}}}As.createAsyncMiddleware=WS;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.createScaffoldMiddleware=void 0;function HS(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}ks.createScaffoldMiddleware=HS;var ai={},lp={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.EthereumProviderError=tr.EthereumRpcError=void 0;const VS=_h;class fp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return VS.default(this.serialize(),qS,2)}}tr.EthereumRpcError=fp;class US extends fp{constructor(e,r,n){if(!zS(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}tr.EthereumProviderError=US;function zS(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function qS(t,e){if(e!=="[Circular]")return e}var uu={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.errorValues=rr.errorCodes=void 0;rr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};rr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=rr,r=tr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const _=f.toString();if(h(e.errorValues,_))return e.errorValues[_].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||l(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:_=!1}={}){var A,C;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const p={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const E=f;p.code=E.code,E.message&&typeof E.message=="string"?(p.message=E.message,h(E,"data")&&(p.data=E.data)):(p.message=o(p.code),p.data={originalError:u(f)})}else{p.code=d.code;const E=(A=f)===null||A===void 0?void 0:A.message;p.message=E&&typeof E=="string"?E:d.message,p.data={originalError:u(f)}}const y=(C=f)===null||C===void 0?void 0:C.stack;return _&&f&&y&&typeof y=="string"&&(p.stack=y),p}t.serializeError=c;function l(f){return f>=-32099&&f<=-32e3}function u(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(uu);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.ethErrors=void 0;const lu=tr,hp=uu,De=rr;Ms.ethErrors={rpc:{parse:t=>et(De.errorCodes.rpc.parse,t),invalidRequest:t=>et(De.errorCodes.rpc.invalidRequest,t),invalidParams:t=>et(De.errorCodes.rpc.invalidParams,t),methodNotFound:t=>et(De.errorCodes.rpc.methodNotFound,t),internal:t=>et(De.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return et(e,t)},invalidInput:t=>et(De.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>et(De.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>et(De.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>et(De.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>et(De.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>et(De.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>In(De.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>In(De.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>In(De.errorCodes.provider.unsupportedMethod,t),disconnected:t=>In(De.errorCodes.provider.disconnected,t),chainDisconnected:t=>In(De.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new lu.EthereumProviderError(e,r,n)}}};function et(t,e){const[r,n]=dp(e);return new lu.EthereumRpcError(t,r||hp.getMessageFromCode(t),n)}function In(t,e){const[r,n]=dp(e);return new lu.EthereumProviderError(t,r||hp.getMessageFromCode(t),n)}function dp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=tr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=uu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ms;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=rr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(lp);var GS=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ai,"__esModule",{value:!0});ai.JsonRpcEngine=void 0;const JS=GS(Rr),tt=lp;class $t extends JS.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await $t._runAllMiddleware(e,r,this._middleware);return o?(await $t._runReturnHandlers(a),i(s)):n(async c=>{try{await $t._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new tt.EthereumRpcError(tt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=tt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await $t._runAllMiddleware(e,r,this._middleware);if($t._checkForCompletion(e,r,i),await $t._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await $t._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=tt.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Pa(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Pa(e)}`,{request:e});if(!n)throw new tt.EthereumRpcError(tt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Pa(e)}`,{request:e})}}ai.JsonRpcEngine=$t;function Pa(t){return JSON.stringify(t,null,2)}var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.mergeMiddleware=void 0;const QS=ai;function ZS(t){const e=new QS.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Os.mergeMiddleware=ZS;(function(t){var e=q&&q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=q&&q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Is,t),r(As,t),r(ks,t),r(oi,t),r(ai,t),r(Os,t)})(cu);var pp={},fu={},gp={exports:{}};(function(t){var e,r,n,i,s,o,a,c,l,u,h,f,d,_,A,C,p,y,E,I,x,$,z,B,D,Q,ae,K,P;(function(k){var F=typeof q=="object"?q:typeof self=="object"?self:typeof this=="object"?this:{};k(W(F,W(t.exports)));function W(m,w){return m!==F&&(typeof Object.create=="function"?Object.defineProperty(m,"__esModule",{value:!0}):m.__esModule=!0),function(R,M){return m[R]=w?w(R,M):M}}})(function(k){var F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(m[R]=w[R])};e=function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");F(m,w);function R(){this.constructor=m}m.prototype=w===null?Object.create(w):(R.prototype=w.prototype,new R)},r=Object.assign||function(m){for(var w,R=1,M=arguments.length;R<M;R++){w=arguments[R];for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(m[O]=w[O])}return m},n=function(m,w){var R={};for(var M in m)Object.prototype.hasOwnProperty.call(m,M)&&w.indexOf(M)<0&&(R[M]=m[M]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,M=Object.getOwnPropertySymbols(m);O<M.length;O++)w.indexOf(M[O])<0&&Object.prototype.propertyIsEnumerable.call(m,M[O])&&(R[M[O]]=m[M[O]]);return R},i=function(m,w,R,M){var O=arguments.length,T=O<3?w:M===null?M=Object.getOwnPropertyDescriptor(w,R):M,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(m,w,R,M);else for(var G=m.length-1;G>=0;G--)(V=m[G])&&(T=(O<3?V(T):O>3?V(w,R,T):V(w,R))||T);return O>3&&T&&Object.defineProperty(w,R,T),T},s=function(m,w){return function(R,M){w(R,M,m)}},o=function(m,w,R,M,O,T){function V(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var G=M.kind,he=G==="getter"?"get":G==="setter"?"set":"value",v=!w&&m?M.static?m:m.prototype:null,S=w||(v?Object.getOwnPropertyDescriptor(v,M.name):{}),N,U=!1,Z=R.length-1;Z>=0;Z--){var g={};for(var b in M)g[b]=b==="access"?{}:M[b];for(var b in M.access)g.access[b]=M.access[b];g.addInitializer=function(H){if(U)throw new TypeError("Cannot add initializers after decoration has completed");T.push(V(H||null))};var L=(0,R[Z])(G==="accessor"?{get:S.get,set:S.set}:S[he],g);if(G==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(N=V(L.get))&&(S.get=N),(N=V(L.set))&&(S.set=N),(N=V(L.init))&&O.unshift(N)}else(N=V(L))&&(G==="field"?O.unshift(N):S[he]=N)}v&&Object.defineProperty(v,M.name,S),U=!0},a=function(m,w,R){for(var M=arguments.length>2,O=0;O<w.length;O++)R=M?w[O].call(m,R):w[O].call(m);return M?R:void 0},c=function(m){return typeof m=="symbol"?m:"".concat(m)},l=function(m,w,R){return typeof w=="symbol"&&(w=w.description?"[".concat(w.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:R?"".concat(R," ",w):w})},u=function(m,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,w)},h=function(m,w,R,M){function O(T){return T instanceof R?T:new R(function(V){V(T)})}return new(R||(R=Promise))(function(T,V){function G(S){try{v(M.next(S))}catch(N){V(N)}}function he(S){try{v(M.throw(S))}catch(N){V(N)}}function v(S){S.done?T(S.value):O(S.value).then(G,he)}v((M=M.apply(m,w||[])).next())})},f=function(m,w){var R={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},M,O,T,V;return V={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function G(v){return function(S){return he([v,S])}}function he(v){if(M)throw new TypeError("Generator is already executing.");for(;V&&(V=0,v[0]&&(R=0)),R;)try{if(M=1,O&&(T=v[0]&2?O.return:v[0]?O.throw||((T=O.return)&&T.call(O),0):O.next)&&!(T=T.call(O,v[1])).done)return T;switch(O=0,T&&(v=[v[0]&2,T.value]),v[0]){case 0:case 1:T=v;break;case 4:return R.label++,{value:v[1],done:!1};case 5:R.label++,O=v[1],v=[0];continue;case 7:v=R.ops.pop(),R.trys.pop();continue;default:if(T=R.trys,!(T=T.length>0&&T[T.length-1])&&(v[0]===6||v[0]===2)){R=0;continue}if(v[0]===3&&(!T||v[1]>T[0]&&v[1]<T[3])){R.label=v[1];break}if(v[0]===6&&R.label<T[1]){R.label=T[1],T=v;break}if(T&&R.label<T[2]){R.label=T[2],R.ops.push(v);break}T[2]&&R.ops.pop(),R.trys.pop();continue}v=w.call(m,R)}catch(S){v=[6,S],O=0}finally{M=T=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},d=function(m,w){for(var R in m)R!=="default"&&!Object.prototype.hasOwnProperty.call(w,R)&&P(w,m,R)},P=Object.create?function(m,w,R,M){M===void 0&&(M=R);var O=Object.getOwnPropertyDescriptor(w,R);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[R]}}),Object.defineProperty(m,M,O)}:function(m,w,R,M){M===void 0&&(M=R),m[M]=w[R]},_=function(m){var w=typeof Symbol=="function"&&Symbol.iterator,R=w&&m[w],M=0;if(R)return R.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&M>=m.length&&(m=void 0),{value:m&&m[M++],done:!m}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},A=function(m,w){var R=typeof Symbol=="function"&&m[Symbol.iterator];if(!R)return m;var M=R.call(m),O,T=[],V;try{for(;(w===void 0||w-- >0)&&!(O=M.next()).done;)T.push(O.value)}catch(G){V={error:G}}finally{try{O&&!O.done&&(R=M.return)&&R.call(M)}finally{if(V)throw V.error}}return T},C=function(){for(var m=[],w=0;w<arguments.length;w++)m=m.concat(A(arguments[w]));return m},p=function(){for(var m=0,w=0,R=arguments.length;w<R;w++)m+=arguments[w].length;for(var M=Array(m),O=0,w=0;w<R;w++)for(var T=arguments[w],V=0,G=T.length;V<G;V++,O++)M[O]=T[V];return M},y=function(m,w,R){if(R||arguments.length===2)for(var M=0,O=w.length,T;M<O;M++)(T||!(M in w))&&(T||(T=Array.prototype.slice.call(w,0,M)),T[M]=w[M]);return m.concat(T||Array.prototype.slice.call(w))},E=function(m){return this instanceof E?(this.v=m,this):new E(m)},I=function(m,w,R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M=R.apply(m,w||[]),O,T=[];return O={},V("next"),V("throw"),V("return"),O[Symbol.asyncIterator]=function(){return this},O;function V(U){M[U]&&(O[U]=function(Z){return new Promise(function(g,b){T.push([U,Z,g,b])>1||G(U,Z)})})}function G(U,Z){try{he(M[U](Z))}catch(g){N(T[0][3],g)}}function he(U){U.value instanceof E?Promise.resolve(U.value.v).then(v,S):N(T[0][2],U)}function v(U){G("next",U)}function S(U){G("throw",U)}function N(U,Z){U(Z),T.shift(),T.length&&G(T[0][0],T[0][1])}},x=function(m){var w,R;return w={},M("next"),M("throw",function(O){throw O}),M("return"),w[Symbol.iterator]=function(){return this},w;function M(O,T){w[O]=m[O]?function(V){return(R=!R)?{value:E(m[O](V)),done:!1}:T?T(V):V}:T}},$=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var w=m[Symbol.asyncIterator],R;return w?w.call(m):(m=typeof _=="function"?_(m):m[Symbol.iterator](),R={},M("next"),M("throw"),M("return"),R[Symbol.asyncIterator]=function(){return this},R);function M(T){R[T]=m[T]&&function(V){return new Promise(function(G,he){V=m[T](V),O(G,he,V.done,V.value)})}}function O(T,V,G,he){Promise.resolve(he).then(function(v){T({value:v,done:G})},V)}},z=function(m,w){return Object.defineProperty?Object.defineProperty(m,"raw",{value:w}):m.raw=w,m};var W=Object.create?function(m,w){Object.defineProperty(m,"default",{enumerable:!0,value:w})}:function(m,w){m.default=w};B=function(m){if(m&&m.__esModule)return m;var w={};if(m!=null)for(var R in m)R!=="default"&&Object.prototype.hasOwnProperty.call(m,R)&&P(w,m,R);return W(w,m),w},D=function(m){return m&&m.__esModule?m:{default:m}},Q=function(m,w,R,M){if(R==="a"&&!M)throw new TypeError("Private accessor was defined without a getter");if(typeof w=="function"?m!==w||!M:!w.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?M:R==="a"?M.call(m):M?M.value:w.get(m)},ae=function(m,w,R,M,O){if(M==="m")throw new TypeError("Private method is not writable");if(M==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof w=="function"?m!==w||!O:!w.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return M==="a"?O.call(m,R):O?O.value=R:w.set(m,R),R},K=function(m,w){if(w===null||typeof w!="object"&&typeof w!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?w===m:m.has(w)},k("__extends",e),k("__assign",r),k("__rest",n),k("__decorate",i),k("__param",s),k("__esDecorate",o),k("__runInitializers",a),k("__propKey",c),k("__setFunctionName",l),k("__metadata",u),k("__awaiter",h),k("__generator",f),k("__exportStar",d),k("__createBinding",P),k("__values",_),k("__read",A),k("__spread",C),k("__spreadArrays",p),k("__spreadArray",y),k("__await",E),k("__asyncGenerator",I),k("__asyncDelegator",x),k("__asyncValues",$),k("__makeTemplateObject",z),k("__importStar",B),k("__importDefault",D),k("__classPrivateFieldGet",Q),k("__classPrivateFieldSet",ae),k("__classPrivateFieldIn",K)})})(gp);var hu=gp.exports,Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});var gf=hu,YS=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return gf.__awaiter(this,void 0,void 0,function(){var r,n,i;return gf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ts.default=YS;Object.defineProperty(fu,"__esModule",{value:!0});var bf=hu,KS=Ts,XS=function(){function t(){this._semaphore=new KS.default(1)}return t.prototype.acquire=function(){return bf.__awaiter(this,void 0,void 0,function(){var e,r;return bf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();fu.default=XS;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.withTimeout=void 0;var Ri=hu;function eE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ri.__awaiter(n,void 0,void 0,function(){var o,a,c;return Ri.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ri.__awaiter(this,void 0,void 0,function(){var s,o;return Ri.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ns.withTimeout=eE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=fu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ts;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Ns;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(pp);var tE=nE,rE=Object.prototype.hasOwnProperty;function nE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)rE.call(r,n)&&(t[n]=r[n])}return t}const iE=tE,sE=Vc();var oE=ee;function ee(t){const e=this;e.currentProvider=t}ee.prototype.getBalance=ci(2,"eth_getBalance");ee.prototype.getCode=ci(2,"eth_getCode");ee.prototype.getTransactionCount=ci(2,"eth_getTransactionCount");ee.prototype.getStorageAt=ci(3,"eth_getStorageAt");ee.prototype.call=ci(2,"eth_call");ee.prototype.protocolVersion=ie("eth_protocolVersion");ee.prototype.syncing=ie("eth_syncing");ee.prototype.coinbase=ie("eth_coinbase");ee.prototype.mining=ie("eth_mining");ee.prototype.hashrate=ie("eth_hashrate");ee.prototype.gasPrice=ie("eth_gasPrice");ee.prototype.accounts=ie("eth_accounts");ee.prototype.blockNumber=ie("eth_blockNumber");ee.prototype.getBlockTransactionCountByHash=ie("eth_getBlockTransactionCountByHash");ee.prototype.getBlockTransactionCountByNumber=ie("eth_getBlockTransactionCountByNumber");ee.prototype.getUncleCountByBlockHash=ie("eth_getUncleCountByBlockHash");ee.prototype.getUncleCountByBlockNumber=ie("eth_getUncleCountByBlockNumber");ee.prototype.sign=ie("eth_sign");ee.prototype.sendTransaction=ie("eth_sendTransaction");ee.prototype.sendRawTransaction=ie("eth_sendRawTransaction");ee.prototype.estimateGas=ie("eth_estimateGas");ee.prototype.getBlockByHash=ie("eth_getBlockByHash");ee.prototype.getBlockByNumber=ie("eth_getBlockByNumber");ee.prototype.getTransactionByHash=ie("eth_getTransactionByHash");ee.prototype.getTransactionByBlockHashAndIndex=ie("eth_getTransactionByBlockHashAndIndex");ee.prototype.getTransactionByBlockNumberAndIndex=ie("eth_getTransactionByBlockNumberAndIndex");ee.prototype.getTransactionReceipt=ie("eth_getTransactionReceipt");ee.prototype.getUncleByBlockHashAndIndex=ie("eth_getUncleByBlockHashAndIndex");ee.prototype.getUncleByBlockNumberAndIndex=ie("eth_getUncleByBlockNumberAndIndex");ee.prototype.getCompilers=ie("eth_getCompilers");ee.prototype.compileLLL=ie("eth_compileLLL");ee.prototype.compileSolidity=ie("eth_compileSolidity");ee.prototype.compileSerpent=ie("eth_compileSerpent");ee.prototype.newFilter=ie("eth_newFilter");ee.prototype.newBlockFilter=ie("eth_newBlockFilter");ee.prototype.newPendingTransactionFilter=ie("eth_newPendingTransactionFilter");ee.prototype.uninstallFilter=ie("eth_uninstallFilter");ee.prototype.getFilterChanges=ie("eth_getFilterChanges");ee.prototype.getFilterLogs=ie("eth_getFilterLogs");ee.prototype.getLogs=ie("eth_getLogs");ee.prototype.getWork=ie("eth_getWork");ee.prototype.submitWork=ie("eth_submitWork");ee.prototype.submitHashrate=ie("eth_submitHashrate");ee.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(aE(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ie(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ci(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function aE(t){return iE({id:sE(),jsonrpc:"2.0",params:[]},t)}const yf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,u)=>{l?a(l):o(u)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},vf=new WeakMap;var cE=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=vf.get(o);if(c||(c={},vf.set(o,c)),a in c)return c[a];const l=_=>typeof _=="string"||typeof a=="symbol"?a===_:_.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),h=u===void 0||u.writable||u.configurable,d=(e.include?e.include.some(l):!e.exclude.some(l))&&h;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const u=e.excludeMain?o:yf(o,e,s,o);return i.set(o,u),Reflect.apply(u,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const u=yf(c,e,s,o);return i.set(c,u),u}return c}});return s};const uE=Rr.default;let lE=class extends uE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var du=lE;const fE=du;let hE=class extends fE{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var dE=hE,ui={minBlockRef:pE,maxBlockRef:gE,sortBlockRefs:pu,bnToHex:bE,blockRefIsNumber:yE,hexToInt:qi,incrementHexInt:vE,intToHex:bp,unsafeRandomBytes:mE};function pE(...t){return pu(t)[0]}function gE(...t){const e=pu(t);return e[e.length-1]}function pu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:qi(e)-qi(r))}function bE(t){return"0x"+t.toString(16)}function yE(t){return t&&!["earliest","latest","pending"].includes(t)}function qi(t){return t==null?t:Number.parseInt(t,16)}function vE(t){if(t==null)return t;const e=qi(t);return bp(e+1)}function bp(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function mE(t){let e="0x";for(let r=0;r<t;r++)e+=mf(),e+=mf();return e}function mf(){return Math.floor(Math.random()*16).toString(16)}const _E=oE,wE=cE,SE=dE,{bnToHex:UI,hexToInt:xi,incrementHexInt:EE,minBlockRef:CE,blockRefIsNumber:RE}=ui;let xE=class extends SE{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new _E(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=CE(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=EE(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await wE(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(xi(this.params.fromBlock)>=xi(e.blockNumber)||RE(this.params.toBlock)&&xi(this.params.toBlock)<=xi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}};var IE=xE,gu=AE;async function AE({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=_f(e),s=_f(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(kE);return await Promise.all(o.map(c=>OE(t,"eth_getBlockByNumber",[c,!1])))}function _f(t){return t==null?t:Number.parseInt(t,16)}function kE(t){return t==null?t:"0x"+t.toString(16)}function ME(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function OE(t,e,r){for(let n=0;n<3;n++)try{return await ME(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const TE=du,NE=gu,{incrementHexInt:LE}=ui;let PE=class extends TE{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=LE(e),o=(await NE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var $E=PE;const DE=du,jE=gu,{incrementHexInt:BE}=ui;let FE=class extends DE{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=BE(e),i=await jE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var WE=FE;const HE=pp.Mutex,{createAsyncMiddleware:VE,createScaffoldMiddleware:UE}=cu,zE=IE,qE=$E,GE=WE,{intToHex:yp,hexToInt:$a}=ui;var JE=QE;function QE({blockTracker:t,provider:e}){let r=0,n={};const i=new HE,s=ZE({mutex:i}),o=UE({eth_newFilter:s(Da(c)),eth_newBlockFilter:s(Da(l)),eth_newPendingTransactionFilter:s(Da(u)),eth_uninstallFilter:s(Ni(d)),eth_getFilterChanges:s(Ni(h)),eth_getFilterLogs:s(Ni(f))}),a=async({oldBlock:y,newBlock:E})=>{if(n.length===0)return;const I=await i.acquire();try{await Promise.all(Dr(n).map(async x=>{try{await x.update({oldBlock:y,newBlock:E})}catch($){console.error($)}}))}catch(x){console.error(x)}I()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=d,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{C()},o;async function c(y){const E=new zE({provider:e,params:y});return await _(E),E}async function l(){const y=new qE({provider:e});return await _(y),y}async function u(){const y=new GE({provider:e});return await _(y),y}async function h(y){const E=$a(y),I=n[E];if(!I)throw new Error(`No filter for index "${E}"`);return I.getChangesAndClear()}async function f(y){const E=$a(y),I=n[E];if(!I)throw new Error(`No filter for index "${E}"`);let x=[];return I.type==="log"&&(x=I.getAllResults()),x}async function d(y){const E=$a(y),x=!!n[E];return x&&await A(E),x}async function _(y){const E=Dr(n).length,I=await t.getLatestBlock();await y.initialize({currentBlock:I}),r++,n[r]=y,y.id=r,y.idHex=yp(r);const x=Dr(n).length;return p({prevFilterCount:E,newFilterCount:x}),r}async function A(y){const E=Dr(n).length;delete n[y];const I=Dr(n).length;p({prevFilterCount:E,newFilterCount:I})}async function C(){const y=Dr(n).length;n={},p({prevFilterCount:y,newFilterCount:0})}function p({prevFilterCount:y,newFilterCount:E}){if(y===0&&E>0){t.on("sync",a);return}if(y>0&&E===0){t.removeListener("sync",a);return}}}function Da(t){return Ni(async(...e)=>{const r=await t(...e);return yp(r.id)})}function Ni(t){return VE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function ZE({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Dr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const YE=Rr.default,{createAsyncMiddleware:wf,createScaffoldMiddleware:KE}=cu,XE=JE,{unsafeRandomBytes:e3,incrementHexInt:t3}=ui,r3=gu;var n3=i3;function i3({blockTracker:t,provider:e}){const r={},n=XE({blockTracker:t,provider:e});let i=!1;const s=new YE,o=KE({eth_subscribe:wf(a),eth_unsubscribe:wf(c)});return o.destroy=u,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],_=e3(16);let A;switch(d){case"newHeads":A=C({subId:_});break;case"logs":const y=h.params[1],E=await n.newLogFilter(y);A=p({subId:_,filter:E});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[_]=A,f.result=_;return;function C({subId:y}){const E={type:d,destroy:async()=>{t.removeListener("sync",E.update)},update:async({oldBlock:I,newBlock:x})=>{const $=x,z=t3(I);(await r3({provider:e,fromBlock:z,toBlock:$})).map(s3).filter(Q=>Q!==null).forEach(Q=>{l(y,Q)})}};return t.on("sync",E.update),E}function p({subId:y,filter:E}){return E.on("update",x=>l(y,x)),{type:d,destroy:async()=>await n.uninstallFilter(E.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],_=r[d];if(!_){f.result=!1;return}delete r[d],await _.destroy(),f.result=!0}function l(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function u(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function s3(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(bs,"__esModule",{value:!0});bs.SubscriptionManager=void 0;const o3=kd,a3=n3,Sf=()=>{};class c3{constructor(e){const r=new o3.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=a3({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Sf,Sf),r}destroy(){this.subscriptionMiddleware.destroy()}}bs.SubscriptionManager=c3;var bu=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.CoinbaseWalletProvider=void 0;const u3=bu(Rr),l3=bu(Xi),je=as,ja=hn,Ef=dn,Cf=dt,ne=J,Ba=bu(Um),f3=rn,le=Ad,h3=bs,Rf="DefaultChainId",xf="DefaultJsonRpcUrl";class d3 extends u3.default{constructor(e){var r,n;super(),this._filterPolyfill=new f3.FilterPolyfill(this),this._subscriptionManager=new h3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ne.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Cf.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,ne.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ne.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(xf))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(xf,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Rf,r.toString(10)),((0,ne.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,ne.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const h=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw je.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(ja.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ef.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(le.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw je.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw je.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw je.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ne.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ne.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Cf.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case le.JSONRPCMethod.eth_accounts:return this._eth_accounts();case le.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case le.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case le.JSONRPCMethod.net_version:return this._net_version();case le.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case le.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case le.JSONRPCMethod.eth_sign:return this._eth_sign(n);case le.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case le.JSONRPCMethod.personal_sign:return this._personal_sign(n);case le.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case le.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case le.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case le.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case le.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case le.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case le.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case le.JSONRPCMethod.eth_signTypedData_v4:case le.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case le.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case le.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case le.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case le.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case le.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case le.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case le.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case le.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case le.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case le.JSONRPCMethod.eth_subscribe:case le.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ne.ensureAddressString)(e);return this._addresses.map(i=>(0,ne.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(ja.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ne.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ne.ensureAddressString)(e.to):null,i=e.value!=null?(0,ne.ensureBN)(e.value):new l3.default(0),s=e.data?(0,ne.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ne.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ne.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,ne.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,ne.ensureBN)(e.maxPriorityFeePerGas):null,u=e.gas!=null?(0,ne.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw je.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw je.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?je.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ne.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Rf);if(!e)return(0,ne.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ne.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(ja.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Ef.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?je.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ne.ensureBuffer)(e[0]),n=(0,ne.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?je.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ne.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?je.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ne.ensureParsedJSONObject)(e[0]),n=(0,ne.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ba.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ba.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ne.ensureAddressString)(e[0]),n=(0,ne.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ba.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw je.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw je.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw je.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw je.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw je.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw je.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ne.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Yr.CoinbaseWalletProvider=d3;var Ls={},Ps={},li,te,vp,mp,pr,If,_p,bc,wp,Gi={},Sp=[],p3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$s=Array.isArray;function Bt(t,e){for(var r in e)t[r]=e[r];return t}function Ep(t){var e=t.parentNode;e&&e.removeChild(t)}function yc(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?li.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return $n(t,o,n,i,null)}function $n(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++vp};return i==null&&te.vnode!=null&&te.vnode(s),s}function g3(){return{current:null}}function fi(t){return t.children}function Dn(t,e){this.props=t,this.context=e}function Vn(t,e){if(e==null)return t.__?Vn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Vn(t):null}function Cp(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Cp(t)}}function vc(t){(!t.__d&&(t.__d=!0)&&pr.push(t)&&!Ji.__r++||If!==te.debounceRendering)&&((If=te.debounceRendering)||_p)(Ji)}function Ji(){var t,e,r,n,i,s,o,a;for(pr.sort(bc);t=pr.shift();)t.__d&&(e=pr.length,n=void 0,i=void 0,o=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=Bt({},s)).__v=s.__v+1,yu(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??Vn(s),s.__h),Mp(n,s),s.__e!=o&&Cp(s)),pr.length>e&&pr.sort(bc));Ji.__r=0}function Rp(t,e,r,n,i,s,o,a,c,l){var u,h,f,d,_,A,C,p=n&&n.__k||Sp,y=p.length;for(r.__k=[],u=0;u<e.length;u++)if((d=r.__k[u]=(d=e[u])==null||typeof d=="boolean"||typeof d=="function"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?$n(null,d,null,null,d):$s(d)?$n(fi,{children:d},null,null,null):d.__b>0?$n(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(f=p[u])===null||f&&d.key==f.key&&d.type===f.type)p[u]=void 0;else for(h=0;h<y;h++){if((f=p[h])&&d.key==f.key&&d.type===f.type){p[h]=void 0;break}f=null}yu(t,d,f=f||Gi,i,s,o,a,c,l),_=d.__e,(h=d.ref)&&f.ref!=h&&(C||(C=[]),f.ref&&C.push(f.ref,null,d),C.push(h,d.__c||_,d)),_!=null?(A==null&&(A=_),typeof d.type=="function"&&d.__k===f.__k?d.__d=c=xp(d,c,t):c=Ap(t,d,f,p,_,c),typeof r.type=="function"&&(r.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=Vn(f))}for(r.__e=A,u=y;u--;)p[u]!=null&&(typeof r.type=="function"&&p[u].__e!=null&&p[u].__e==r.__d&&(r.__d=kp(n).nextSibling),Tp(p[u],p[u]));if(C)for(u=0;u<C.length;u++)Op(C[u],C[++u],C[++u])}function xp(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?xp(n,e,r):Ap(r,n,n,i,n.__e,e));return e}function Ip(t,e){return e=e||[],t==null||typeof t=="boolean"||($s(t)?t.some(function(r){Ip(r,e)}):e.push(t)),e}function Ap(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function kp(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=kp(r)))return n}return null}function b3(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Qi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Qi(t,s,e[s],r[s],n)}function Af(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||p3.test(e)?r:r+"px"}function Qi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Af(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Af(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Mf:kf,s):t.removeEventListener(e,s?Mf:kf,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function kf(t){return this.l[t.type+!1](te.event?te.event(t):t)}function Mf(t){return this.l[t.type+!0](te.event?te.event(t):t)}function yu(t,e,r,n,i,s,o,a,c){var l,u,h,f,d,_,A,C,p,y,E,I,x,$,z,B=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=te.__b)&&l(e);try{e:if(typeof B=="function"){if(C=e.props,p=(l=B.contextType)&&n[l.__c],y=l?p?p.props.value:l.__:n,r.__c?A=(u=e.__c=r.__c).__=u.__E:("prototype"in B&&B.prototype.render?e.__c=u=new B(C,y):(e.__c=u=new Dn(C,y),u.constructor=B,u.render=v3),p&&p.sub(u),u.props=C,u.state||(u.state={}),u.context=y,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),B.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Bt({},u.__s)),Bt(u.__s,B.getDerivedStateFromProps(C,u.__s))),f=u.props,d=u.state,u.__v=e,h)B.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(B.getDerivedStateFromProps==null&&C!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(C,y),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(C,u.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(u.props=C,u.state=u.__s,u.__d=!1),u.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(D){D&&(D.__=e)}),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(C,u.__s,y),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,d,_)})}if(u.context=y,u.props=C,u.__P=t,I=te.__r,x=0,"prototype"in B&&B.prototype.render){for(u.state=u.__s,u.__d=!1,I&&I(e),l=u.render(u.props,u.state,u.context),$=0;$<u._sb.length;$++)u.__h.push(u._sb[$]);u._sb=[]}else do u.__d=!1,I&&I(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++x<25);u.state=u.__s,u.getChildContext!=null&&(n=Bt(Bt({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(_=u.getSnapshotBeforeUpdate(f,d)),Rp(t,$s(z=l!=null&&l.type===fi&&l.key==null?l.props.children:l)?z:[z],e,r,n,i,s,o,a,c),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),A&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=y3(r.__e,e,r,n,i,s,o,c);(l=te.diffed)&&l(e)}catch(D){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),te.__e(D,e,r)}}function Mp(t,e){te.__c&&te.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){te.__e(n,r.__v)}})}function y3(t,e,r,n,i,s,o,a){var c,l,u,h=r.props,f=e.props,d=e.type,_=0;if(d==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((c=s[_])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[_]=null;break}}if(t==null){if(d===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),s=null,a=!1}if(d===null)h===f||a&&t.data===f||(t.data=f);else{if(s=s&&li.call(t.childNodes),l=(h=r.props||Gi).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},_=0;_<t.attributes.length;_++)h[t.attributes[_].name]=t.attributes[_].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(b3(t,f,h,i,a),u)e.__k=[];else if(Rp(t,$s(_=e.props.children)?_:[_],e,r,n,i&&d!=="foreignObject",s,o,s?s[0]:r.__k&&Vn(r,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&Ep(s[_]);a||("value"in f&&(_=f.value)!==void 0&&(_!==t.value||d==="progress"&&!_||d==="option"&&_!==h.value)&&Qi(t,"value",_,h.value,!1),"checked"in f&&(_=f.checked)!==void 0&&_!==t.checked&&Qi(t,"checked",_,h.checked,!1))}return t}function Op(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){te.__e(n,r)}}function Tp(t,e,r){var n,i;if(te.unmount&&te.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Op(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){te.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Tp(n[i],e,r||typeof t.type!="function");r||t.__e==null||Ep(t.__e),t.__=t.__e=t.__d=void 0}function v3(t,e,r){return this.constructor(t,r)}function Np(t,e,r){var n,i,s;te.__&&te.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],yu(e,t=(!n&&r||e).__k=yc(fi,null,[t]),i||Gi,Gi,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?li.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Mp(s,t)}function Lp(t,e){Np(t,e,Lp)}function m3(t,e,r){var n,i,s,o,a=Bt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?li.call(arguments,2):r),$n(t.type,a,n||t.key,i||t.ref,null)}function _3(t,e){var r={__c:e="__cC"+wp++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,vc(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}li=Sp.slice,te={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},vp=0,mp=function(t){return t!=null&&t.constructor===void 0},Dn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Bt({},this.state),typeof t=="function"&&(t=t(Bt({},r),this.props)),t&&Bt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),vc(this))},Dn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),vc(this))},Dn.prototype.render=fi,pr=[],_p=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bc=function(t,e){return t.__v.__b-e.__v.__b},Ji.__r=0,wp=0;const w3=Object.freeze(Object.defineProperty({__proto__:null,Component:Dn,Fragment:fi,cloneElement:m3,createContext:_3,createElement:yc,createRef:g3,h:yc,hydrate:Lp,get isValidElement(){return mp},get options(){return te},render:Np,toChildArray:Ip},Symbol.toStringTag,{value:"Module"})),Ke=un(w3),Ds=un(Mg);var js={};const Bs=un(h0);var Vt,de,Fa,Of,on=0,Pp=[],Li=[],Tf=te.__b,Nf=te.__r,Lf=te.diffed,Pf=te.__c,$f=te.unmount;function Mr(t,e){te.__h&&te.__h(de,t,on||e),on=0;var r=de.__H||(de.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Li}),r.__[t]}function $p(t){return on=1,Dp(Bp,t)}function Dp(t,e,r){var n=Mr(Vt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Bp(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=de,!de.u)){var i=function(a,c,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,c,l);var h=!1;return u.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(h=!0)}}),!(!h&&n.__c.props===a)&&(!s||s.call(this,a,c,l))};de.u=!0;var s=de.shouldComponentUpdate,o=de.componentWillUpdate;de.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}o&&o.call(this,a,c,l)},de.shouldComponentUpdate=i}return n.__N||n.__}function S3(t,e){var r=Mr(Vt++,3);!te.__s&&mu(r.__H,e)&&(r.__=t,r.i=e,de.__H.__h.push(r))}function jp(t,e){var r=Mr(Vt++,4);!te.__s&&mu(r.__H,e)&&(r.__=t,r.i=e,de.__h.push(r))}function E3(t){return on=5,vu(function(){return{current:t}},[])}function C3(t,e,r){on=6,jp(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function vu(t,e){var r=Mr(Vt++,7);return mu(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function R3(t,e){return on=8,vu(function(){return t},e)}function x3(t){var e=de.context[t.__c],r=Mr(Vt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(de)),e.props.value):t.__}function I3(t,e){te.useDebugValue&&te.useDebugValue(e?e(t):t)}function A3(t){var e=Mr(Vt++,10),r=$p();return e.__=t,de.componentDidCatch||(de.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function k3(){var t=Mr(Vt++,11);if(!t.__){for(var e=de.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function M3(){for(var t;t=Pp.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Pi),t.__H.__h.forEach(mc),t.__H.__h=[]}catch(e){t.__H.__h=[],te.__e(e,t.__v)}}te.__b=function(t){de=null,Tf&&Tf(t)},te.__r=function(t){Nf&&Nf(t),Vt=0;var e=(de=t.__c).__H;e&&(Fa===de?(e.__h=[],de.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Li,r.__N=r.i=void 0})):(e.__h.forEach(Pi),e.__h.forEach(mc),e.__h=[],Vt=0)),Fa=de},te.diffed=function(t){Lf&&Lf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Pp.push(e)!==1&&Of===te.requestAnimationFrame||((Of=te.requestAnimationFrame)||O3)(M3)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Li&&(r.__=r.__V),r.i=void 0,r.__V=Li})),Fa=de=null},te.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Pi),r.__h=r.__h.filter(function(n){return!n.__||mc(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],te.__e(n,r.__v)}}),Pf&&Pf(t,e)},te.unmount=function(t){$f&&$f(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Pi(n)}catch(i){e=i}}),r.__H=void 0,e&&te.__e(e,r.__v))};var Df=typeof requestAnimationFrame=="function";function O3(t){var e,r=function(){clearTimeout(n),Df&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Df&&(e=requestAnimationFrame(r))}function Pi(t){var e=de,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),de=e}function mc(t){var e=de;t.__c=t.__(),de=e}function mu(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Bp(t,e){return typeof e=="function"?e(t):e}const T3=Object.freeze(Object.defineProperty({__proto__:null,useCallback:R3,useContext:x3,useDebugValue:I3,useEffect:S3,useErrorBoundary:A3,useId:k3,useImperativeHandle:C3,useLayoutEffect:jp,useMemo:vu,useReducer:Dp,useRef:E3,useState:$p},Symbol.toStringTag,{value:"Module"})),hi=un(T3);var At={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.LIB_VERSION=void 0;Fs.LIB_VERSION="3.6.6";var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.CloseIcon=void 0;const jf=Ke;function N3(t){return(0,jf.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,jf.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ws.CloseIcon=N3;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.QRCodeIcon=void 0;const _t=Ke;function L3(t){return(0,_t.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,_t.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,_t.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,_t.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,_t.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,_t.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,_t.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,_t.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,_t.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,_t.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Hs.QRCodeIcon=L3;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});const P3=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Su.default=P3;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.StatusDotIcon=void 0;const Bf=Ke;function $3(t){return(0,Bf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Bf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Vs.StatusDotIcon=$3;var Us={};function Fp(t){this.mode=Qe.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Fp.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function kt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}kt.prototype={addData:function(t){var e=new Fp(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=kt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ve.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ve.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ve.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ve.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=ve.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};kt.PAD0=236;kt.PAD1=17;kt.createData=function(t,e,r){for(var n=Rt.getRSBlocks(t,e),i=new Wp,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ve.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(kt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(kt.PAD1,8);return kt.createBytes(i,n)};kt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var u=0;u<s[a].length;u++)s[a][u]=255&t.buffer[u+r];r+=c;var h=ve.getErrorCorrectPolynomial(l),f=new Gr(s[a],h.getLength()-1),d=f.mod(h);o[a]=new Array(h.getLength()-1);for(var u=0;u<o[a].length;u++){var _=u+d.getLength()-o[a].length;o[a][u]=_>=0?d.get(_):0}}for(var A=0,u=0;u<e.length;u++)A+=e[u].totalCount;for(var C=new Array(A),p=0,u=0;u<n;u++)for(var a=0;a<e.length;a++)u<s[a].length&&(C[p++]=s[a][u]);for(var u=0;u<i;u++)for(var a=0;a<e.length;a++)u<o[a].length&&(C[p++]=o[a][u]);return C};var Qe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Yt={L:1,M:0,Q:3,H:2},zt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ve={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;ve.getBCHDigit(e)-ve.getBCHDigit(ve.G15)>=0;)e^=ve.G15<<ve.getBCHDigit(e)-ve.getBCHDigit(ve.G15);return(t<<10|e)^ve.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ve.getBCHDigit(e)-ve.getBCHDigit(ve.G18)>=0;)e^=ve.G18<<ve.getBCHDigit(e)-ve.getBCHDigit(ve.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ve.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case zt.PATTERN000:return(e+r)%2==0;case zt.PATTERN001:return e%2==0;case zt.PATTERN010:return r%3==0;case zt.PATTERN011:return(e+r)%3==0;case zt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case zt.PATTERN101:return e*r%2+e*r%3==0;case zt.PATTERN110:return(e*r%2+e*r%3)%2==0;case zt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Gr([1],0),r=0;r<t;r++)e=e.multiply(new Gr([1,Te.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Qe.MODE_NUMBER:return 10;case Qe.MODE_ALPHA_NUM:return 9;case Qe.MODE_8BIT_BYTE:return 8;case Qe.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Qe.MODE_NUMBER:return 12;case Qe.MODE_ALPHA_NUM:return 11;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Qe.MODE_NUMBER:return 14;case Qe.MODE_ALPHA_NUM:return 13;case Qe.MODE_8BIT_BYTE:return 16;case Qe.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&u++;var h=Math.abs(100*u/e/e-50)/5;return r+=h*10,r}},Te={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Te.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Te.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ne=0;Ne<8;Ne++)Te.EXP_TABLE[Ne]=1<<Ne;for(var Ne=8;Ne<256;Ne++)Te.EXP_TABLE[Ne]=Te.EXP_TABLE[Ne-4]^Te.EXP_TABLE[Ne-5]^Te.EXP_TABLE[Ne-6]^Te.EXP_TABLE[Ne-8];for(var Ne=0;Ne<255;Ne++)Te.LOG_TABLE[Te.EXP_TABLE[Ne]]=Ne;function Gr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Gr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Te.gexp(Te.glog(this.get(r))+Te.glog(t.get(n)));return new Gr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Te.glog(this.get(0))-Te.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Te.gexp(Te.glog(t.get(n))+e);return new Gr(r,0).mod(t)}};function Rt(t,e){this.totalCount=t,this.dataCount=e}Rt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Rt.getRSBlocks=function(t,e){var r=Rt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new Rt(a,c));return i};Rt.getRsBlockTable=function(t,e){switch(e){case Yt.L:return Rt.RS_BLOCK_TABLE[(t-1)*4+0];case Yt.M:return Rt.RS_BLOCK_TABLE[(t-1)*4+1];case Yt.Q:return Rt.RS_BLOCK_TABLE[(t-1)*4+2];case Yt.H:return Rt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Wp(){this.buffer=[],this.length=0}Wp.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Wa=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Hp(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Yt.L;case"M":return Yt.M;case"Q":return Yt.Q;case"H":return Yt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var u=i(c),h=1,f=0,d=0,_=Wa.length;d<=_;d++){var A=Wa[d];if(!A)throw new Error("Content too long: expected "+f+" but got "+u);switch(l){case"L":f=A[0];break;case"M":f=A[1];break;case"Q":f=A[2];break;case"H":f=A[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=f)break;h++}if(h>Wa.length)throw new Error("Content too long");return h}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new kt(o,a),this.qrcode.addData(s),this.qrcode.make()}Hp.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),u=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,_=typeof e.predefined<"u"?!!e.predefined:!1,A=_?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",C=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,p="",y="",E=0;E<c;E++)for(var I=0;I<c;I++){var x=r[I][E];if(x){var $=I*l+e.padding*l,z=E*u+e.padding*u;if(f){var B=$;$=z,z=B}if(h){var D=l+$,Q=u+z;$=Number.isInteger($)?Number($):$.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),y+="M"+$+","+z+" V"+Q+" H"+D+" V"+z+" H"+$+" Z "}else _?p+=i+'<use x="'+$.toString()+'" y="'+z.toString()+'" href="#qrmodule" />'+s:p+=i+'<rect x="'+$.toString()+'" y="'+z.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(p=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+y+'" />');let ae="";if(this.options.image!==void 0&&this.options.image.svg){const P=o*this.options.image.width/100,k=a*this.options.image.height/100,F=o/2-P/2,W=a/2-k/2;ae+=`<svg x="${F}" y="${W}" width="${P}" height="${k}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ae+=this.options.image.svg+s,ae+="</svg>"}var K="";switch(t.container){case"svg":d&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,K+=A+C+p,K+=ae,K+="</svg>";break;case"svg-viewbox":d&&(K+='<?xml version="1.0" standalone="yes"?>'+s),K+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,K+=A+C+p,K+=ae,K+="</svg>";break;case"g":K+='<g width="'+o+'" height="'+a+'">'+s,K+=A+C+p,K+=ae,K+="</g>";break;default:K+=(A+C+p+ae).replace(/^\s+/,"");break}return K};var D3=Hp,j3=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Us,"__esModule",{value:!0});Us.QRCode=void 0;const B3=Ke,Ff=hi,F3=j3(D3),W3=t=>{const[e,r]=(0,Ff.useState)("");return(0,Ff.useEffect)(()=>{var n,i;const s=new F3.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,B3.h)("img",{src:e,alt:"QR Code"}):null};Us.QRCode=W3;var zs={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var H3=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});zs.Spinner=void 0;const Ii=Ke,V3=H3(Cu),U3=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ii.h)("div",{class:"-cbwsdk-spinner"},(0,Ii.h)("style",null,V3.default),(0,Ii.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ii.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};zs.Spinner=U3;var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var _n=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(At,"__esModule",{value:!0});At.CoinbaseAppSteps=At.CoinbaseWalletSteps=At.ConnectItem=At.ConnectContent=void 0;const nt=_n(Bs),Y=Ke,Wf=hi,z3=J,q3=Fs,G3=Ws,J3=_n(_u),Q3=_n(wu),Vp=Hs,Z3=_n(Su),Y3=_n(Eu),K3=Vs,X3=Us,e4=zs,t4=_n(Ru),Hf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Q3.default,steps:zp},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:J3.default,steps:qp}},r4=t=>{switch(t){case"coinbase-app":return Z3.default;case"coinbase-wallet-app":default:return Y3.default}},_c=t=>t==="light"?"#FFFFFF":"#0A0B0D";function n4(t){const{theme:e}=t,[r,n]=(0,Wf.useState)("coinbase-wallet-app"),i=(0,Wf.useCallback)(l=>{n(l)},[]),s=(0,z3.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Hf[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,Y.h)("div",{"data-testid":"connect-content",class:(0,nt.default)("-cbwsdk-connect-content",e)},(0,Y.h)("style",null,t4.default),(0,Y.h)("div",{class:"-cbwsdk-connect-content-header"},(0,Y.h)("h2",{class:(0,nt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,Y.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,Y.h)(G3.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Y.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,Y.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,Y.h)("div",null,Object.entries(Hf).map(([l,u])=>(0,Y.h)(Up,{key:l,title:u.title,description:u.description,icon:u.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,Y.h)("div",{class:(0,nt.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,Y.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,Y.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,Y.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,Y.h)(X3.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:r4(r),width:25,height:25}}),(0,Y.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:q3.LIB_VERSION}),(0,Y.h)("input",{type:"hidden",value:s})),(0,Y.h)(a,{theme:e}),!t.isConnected&&(0,Y.h)("div",{"data-testid":"connecting-spinner",class:(0,nt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,Y.h)(e4.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,Y.h)("p",null,"Connecting...")))))}At.ConnectContent=n4;function Up({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,Y.h)("div",{onClick:s,class:(0,nt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,Y.h)("div",null,(0,Y.h)("img",{src:r,alt:t})),(0,Y.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,Y.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,Y.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}At.ConnectItem=Up;function zp({theme:t}){return(0,Y.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Y.h)("li",{class:(0,nt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,Y.h)("li",{class:(0,nt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Y.h)("span",null,"Tap ",(0,Y.h)("strong",null,"Scan")," "),(0,Y.h)("span",{class:(0,nt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(Vp.QRCodeIcon,{fill:_c(t)})))))}At.CoinbaseWalletSteps=zp;function qp({theme:t}){return(0,Y.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,Y.h)("li",{class:(0,nt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,Y.h)("li",{class:(0,nt.default)("-cbwsdk-wallet-steps-item",t)},(0,Y.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,Y.h)("span",null,"Tap ",(0,Y.h)("strong",null,"More")),(0,Y.h)("span",{class:(0,nt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(K3.StatusDotIcon,{fill:_c(t)})),(0,Y.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,Y.h)("strong",null,"Scan")),(0,Y.h)("span",{class:(0,nt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,Y.h)(Vp.QRCodeIcon,{fill:_c(t)})))))}At.CoinbaseAppSteps=qp;var qs={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.ArrowLeftIcon=void 0;const Vf=Ke;function i4(t){return(0,Vf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Vf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Gs.ArrowLeftIcon=i4;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.LaptopIcon=void 0;const Ha=Ke;function s4(t){return(0,Ha.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ha.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ha.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Js.LaptopIcon=s4;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.SafeIcon=void 0;const Uf=Ke;function o4(t){return(0,Uf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Uf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Qs.SafeIcon=o4;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Gp=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});qs.TryExtensionContent=void 0;const ar=Gp(Bs),Ce=Ke,Va=hi,a4=Gs,c4=Js,u4=Qs,l4=Gp(xu);function f4({theme:t}){const[e,r]=(0,Va.useState)(!1),n=(0,Va.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Va.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ce.h)("div",{class:(0,ar.default)("-cbwsdk-try-extension",t)},(0,Ce.h)("style",null,l4.default),(0,Ce.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ce.h)("h3",{class:(0,ar.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ce.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ce.h)("button",{class:(0,ar.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ce.h)("div",null,!e&&(0,Ce.h)(a4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ce.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ce.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ce.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ce.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ce.h)("span",{class:(0,ar.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ce.h)(c4.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ce.h)("div",{class:(0,ar.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ce.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ce.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ce.h)("span",{class:(0,ar.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ce.h)(u4.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ce.h)("div",{class:(0,ar.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}qs.TryExtensionContent=f4;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Jp=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});js.ConnectDialog=void 0;const Ua=Jp(Bs),cr=Ke,za=hi,h4=At,d4=qs,p4=Jp(Iu),g4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,za.useState)(!e),[s,o]=(0,za.useState)(!e);(0,za.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,cr.h)("div",{class:(0,Ua.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,cr.h)("style",null,p4.default),(0,cr.h)("div",{class:(0,Ua.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,cr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,cr.h)("div",{class:(0,Ua.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,cr.h)(h4.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,cr.h)(d4.TryExtensionContent,{theme:a}))))};js.ConnectDialog=g4;Object.defineProperty(Ps,"__esModule",{value:!0});Ps.LinkFlow=void 0;const qa=Ke,zf=Ds,b4=js;class y4{constructor(e){this.extensionUI$=new zf.BehaviorSubject({}),this.subscriptions=new zf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,qa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,qa.render)((0,qa.h)(b4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ps.LinkFlow=y4;var Qp={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=q&&q.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Bs),n=Ke,i=hi,s=e(Au),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const l=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=l;const u=({autoExpand:h,message:f,menuItems:d,appSrc:_})=>{const[A,C]=(0,i.useState)(!0),[p,y]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const I=[window.setTimeout(()=>{C(!1)},1),window.setTimeout(()=>{y(!0)},1e4)];return()=>{I.forEach(window.clearTimeout)}});const E=()=>{y(!p)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",A&&"-cbwsdk-snackbar-instance-hidden",p&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:E},(0,n.h)("img",{src:a(_),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!p&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((I,x)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",I.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:I.onClick,key:x},(0,n.h)("svg",{width:I.svgWidth,height:I.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":I.defaultFillRule,"clip-rule":I.defaultClipRule,d:I.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",I.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},I.info)))))};t.SnackbarInstance=u})(Qp);var Zs={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var v4=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.injectCssReset=void 0;const m4=v4(ku);function _4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(m4.default)),document.documentElement.appendChild(t)}Zs.injectCssReset=_4;Object.defineProperty(Ls,"__esModule",{value:!0});Ls.WalletSDKUI=void 0;const w4=Ps,S4=Qp,E4=Zs;class C4{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new S4.Snackbar({darkMode:e.darkMode}),this.linkFlow=new w4.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,E4.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Ls.WalletSDKUI=C4;var Ys={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});var Wr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Wr||(Wr={}));function Zp(t,e,r){if(!r||typeof r.value!==Wr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Wr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Wr.boolTrue,writable:Wr.boolTrue}),n}}}Ks.bind=Zp;Ks.default=Zp;function Yp(t){return function(r){return r.lift(new R4(t))}}var R4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new x4(e,this.durationSelector))},t}(),x4=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=_e(n,new we(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Se);function I4(t,e){return e===void 0&&(e=qe),Yp(function(){return th(t,e)})}function A4(t){return function(r){return r.lift(new k4(t))}}var k4=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new M4(e,this.closingNotifier))},t}(),M4=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(_e(n,new we(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Se);function O4(t,e){return e===void 0&&(e=null),function(n){return n.lift(new T4(t,e))}}var T4=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=N4:this.subscriberClass=L4}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),N4=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(X),L4=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(X);function P4(t){var e=arguments.length,r=qe;Mt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new $4(t,n,i,r))}}var $4=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new j4(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),D4=function(){function t(){this.buffer=[]}return t}(),j4=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(qf,n,l))}else{var u={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Kp,n,u)),a.add(o.schedule(B4,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(qf,i,s))}},e.prototype.openContext=function(){var r=new D4;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(X);function qf(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function B4(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Kp,r,{subscriber:n,context:s})),o.schedule(t,e))}function Kp(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function F4(t,e){return function(n){return n.lift(new W4(t,e))}}var W4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new H4(e,this.openings,this.closingSelector))},t}(),H4=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Wt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Ye,o={buffer:i,subscription:s};n.push(o);var a=Wt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Cr);function V4(t){return function(e){return e.lift(new U4(t))}}var U4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new z4(e,this.closingSelector))},t}(),z4=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Ye,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(_e(i,new we(this))),this.subscribing=!1},e}(Se);function q4(t){return function(r){var n=new G4(t),i=r.lift(n);return n.caught=i}}var G4=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new J4(e,this.selector,this.caught))},t}(),J4=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new we(this);this.add(i);var s=_e(n,i);s!==i&&this.add(s)}},e}(Se);function Q4(t){return function(e){return e.lift(new Ic(t))}}function Z4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&ot(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(nr([n].concat(t)),new Ic(r))}}function Y4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(jn.apply(void 0,[r].concat(t)))}}function Xp(t,e){return ji(t,e,1)}function K4(t,e){return Xp(function(){return t},e)}function X4(t){return function(e){return e.lift(new e5(t,e))}}var e5=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new t5(e,this.predicate,this.source))},t}(),t5=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(X);function r5(t){return function(e){return e.lift(new n5(t))}}var n5=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new i5(e,this.durationSelector))},t}(),i5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=_e(n,new we(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Se);function s5(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new o5(t,e))}}var o5=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new a5(e,this.dueTime,this.scheduler))},t}(),a5=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c5,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(X);function c5(t){t.debouncedNext()}function di(t){return t===void 0&&(t=null),function(e){return e.lift(new u5(t))}}var u5=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new l5(e,this.defaultValue))},t}(),l5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(X);function e0(t){return t instanceof Date&&!isNaN(+t)}function f5(t,e){e===void 0&&(e=qe);var r=e0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new h5(n,e))}}var h5=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new d5(e,this.delay,this.scheduler))},t}(),d5=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new p5(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Ft.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Ft.createComplete()),this.unsubscribe()},e}(X),p5=function(){function t(e,r){this.time=e,this.notification=r}return t}();function g5(t,e){return e?function(r){return new y5(r,e).lift(new Gf(t))}:function(r){return r.lift(new Gf(t))}}var Gf=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new b5(e,this.delayDurationSelector))},t}(),b5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Wt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Cr),y5=function(t){j(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new v5(r,this.source))},e}(pe),v5=function(t){j(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(X);function m5(){return function(e){return e.lift(new _5)}}var _5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new w5(e))},t}(),w5=function(t){j(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(X);function S5(t,e){return function(r){return r.lift(new E5(t,e))}}var E5=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new C5(e,this.keySelector,this.flushes))},t}(),C5=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(_e(i,new we(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Se);function t0(t,e){return function(r){return r.lift(new R5(t,e))}}var R5=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new x5(e,this.compare,this.keySelector))},t}(),x5=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(X);function I5(t,e){return t0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Xs(t){return t===void 0&&(t=M5),function(e){return e.lift(new A5(t))}}var A5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new k5(e,this.errorFactory))},t}(),k5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(X);function M5(){return new qn}function Mu(t){return function(e){return t===0?ln():e.lift(new O5(t))}}var O5=function(){function t(e){if(this.total=e,this.total<0)throw new Zr}return t.prototype.call=function(e,r){return r.subscribe(new T5(e,this.total))},t}(),T5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(X);function N5(t,e){if(t<0)throw new Zr;var r=arguments.length>=2;return function(n){return n.pipe(Kt(function(i,s){return s===t}),Mu(1),r?di(e):Xs(function(){return new Zr}))}}function L5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return jn(r,is.apply(void 0,t))}}function P5(t,e){return function(r){return r.lift(new $5(t,e,r))}}var $5=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new D5(e,this.predicate,this.thisArg,this.source))},t}(),D5=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function j5(){return function(t){return t.lift(new B5)}}var B5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new F5(e))},t}(),F5=function(t){j(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(_e(r,new we(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Se);function r0(t,e){return e?function(r){return r.pipe(r0(function(n,i){return nr(t(n,i)).pipe(Ot(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new W5(t))}}var W5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new H5(e,this.project))},t}(),H5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new we(this),i=this.destination;i.add(n);var s=_e(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Se);function V5(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new U5(t,e,r))}}var U5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new z5(e,this.project,this.concurrent,this.scheduler))},t}(),z5=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(_e(r,new we(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Se);function q5(t){return function(e){return e.lift(new G5(t))}}var G5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new J5(e,this.callback))},t}(),J5=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Ye(n)),i}return e}(X);function Q5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new n0(t,r,!1,e))}}var n0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new Z5(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Z5=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(X);function Y5(t,e){return function(r){return r.lift(new n0(t,r,!0,e))}}function K5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Kt(function(i,s){return t(i,s,n)}):Jr,Mu(1),r?di(e):Xs(function(){return new qn}))}}function X5(){return function(e){return e.lift(new eC)}}var eC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new tC(e))},t}(),tC=function(t){j(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(X);function rC(){return function(t){return t.lift(new nC)}}var nC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new iC(e))},t}(),iC=function(t){j(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(X);function Zi(t){return function(r){return t===0?ln():r.lift(new sC(t))}}var sC=function(){function t(e){if(this.total=e,this.total<0)throw new Zr}return t.prototype.call=function(e,r){return r.subscribe(new oC(e,this.total))},t}(),oC=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(X);function aC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Kt(function(i,s){return t(i,s,n)}):Jr,Zi(1),r?di(e):Xs(function(){return new qn}))}}function cC(t){return function(e){return e.lift(new uC(t))}}var uC=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new lC(e,this.value))},t}(),lC=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(X);function fC(){return function(e){return e.lift(new hC)}}var hC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dC(e))},t}(),dC=function(t){j(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Ft.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Ft.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Ft.createComplete()),r.complete()},e}(X);function Yi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new pC(t,e,r))}}var pC=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new gC(e,this.accumulator,this.seed,this.hasSeed))},t}(),gC=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(X);function eo(t,e){return arguments.length>=2?function(n){return Za(Yi(t,e),Zi(1),di(e))(n)}:function(n){return Za(Yi(function(i,s,o){return t(i,s,o+1)}),Zi(1))(n)}}function bC(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return eo(e)}function yC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(eh.apply(void 0,[r].concat(t)))}}function vC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?ji(function(){return t},e,r):(typeof e=="number"&&(r=e),ji(function(){return t},r))}function mC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new _C(t,e,r))}}var _C=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new wC(e,this.accumulator,this.seed,this.concurrent))},t}(),wC=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new we(this),i=this.destination;i.add(n);var s=_e(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Se);function SC(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return eo(e)}function Er(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new EC(i,e));var s=Object.create(n,k0);return s.source=n,s.subjectFactory=i,s}}var EC=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function CC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&ot(t[0])&&(t=t[0]),function(r){return r.lift(new RC(t))}}var RC=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new xC(e,this.nextSources))},t}(),xC=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new we(this),i=this.destination;i.add(n);var s=_e(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Se);function IC(){return function(t){return t.lift(new AC)}}var AC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new kC(e))},t}(),kC=function(t){j(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(X);function MC(t,e){return function(r){return[Kt(t,e)(r),Kt(bh(t,e))(r)]}}function OC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ot(TC(t,r))(n)}}function TC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function NC(t){return t?Er(function(){return new Pe},t):Er(new Pe)}function LC(t){return function(e){return Er(new nh(t))(e)}}function PC(){return function(t){return Er(new fn)(t)}}function $C(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new xc(t,e,n);return function(o){return Er(function(){return s},i)(o)}}function DC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&ot(t[0])&&(t=t[0]),n.lift.call(yh.apply(void 0,[n].concat(t)))}}function jC(t){return t===void 0&&(t=-1),function(e){return t===0?ln():t<0?e.lift(new Jf(-1,e)):e.lift(new Jf(t-1,e))}}var Jf=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new BC(e,this.count,this.source))},t}(),BC=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(X);function FC(t){return function(e){return e.lift(new WC(t))}}var WC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new HC(e,this.notifier,r))},t}(),HC=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Pe;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=_e(r,new we(this))},e}(Se);function VC(t){return t===void 0&&(t=-1),function(e){return e.lift(new UC(t,e))}}var UC=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new zC(e,this.count,this.source))},t}(),zC=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(X);function qC(t){return function(e){return e.lift(new GC(t,e))}}var GC=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new JC(e,this.notifier,this.source))},t}(),JC=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Pe;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=_e(i,new we(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Se);function QC(t){return function(e){return e.lift(new ZC(t))}}var ZC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new YC(e),i=r.subscribe(n);return i.add(_e(this.notifier,new we(n))),i},t}(),YC=function(t){j(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Se);function KC(t,e){return e===void 0&&(e=qe),function(r){return r.lift(new XC(t,e))}}var XC=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new eR(e,this.period,this.scheduler))},t}(),eR=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(tR,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(X);function tR(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function rR(t,e){return function(r){return r.lift(new nR(t,e))}}var nR=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new iR(e,this.compareTo,this.comparator))},t}(),iR=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new sR(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(X),sR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(X);function oR(){return new Pe}function aR(){return function(t){return Cc()(Er(oR)(t))}}function cR(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(uR(n))}}function uR(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,u=!1,h=!1;return function(d){c++;var _;!a||u?(u=!1,a=new xc(r,i,o),_=a.subscribe(this),l=d.subscribe({next:function(A){a.next(A)},error:function(A){u=!0,a.error(A)},complete:function(){h=!0,l=void 0,a.complete()}}),h&&(l=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,l&&!h&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function lR(t){return function(e){return e.lift(new fR(t,e))}}var fR=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new hR(e,this.predicate,this.source))},t}(),hR=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new qn)},e}(X);function dR(t){return function(e){return e.lift(new pR(t))}}var pR=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new gR(e,this.total))},t}(),gR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(X);function bR(t){return function(e){return e.lift(new yR(t))}}var yR=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Zr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new X(e)):r.subscribe(new vR(e,this._skipCount))},t}(),vR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(X);function mR(t){return function(e){return e.lift(new _R(t))}}var _R=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new wR(e,this.notifier))},t}(),wR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new we(i);i.add(s),i.innerSubscription=s;var o=_e(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Se);function SR(t){return function(e){return e.lift(new ER(t))}}var ER=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new CR(e,this.predicate))},t}(),CR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(X);function RR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Mt(r)?(t.pop(),function(n){return jn(t,n,r)}):function(n){return jn(t,n)}}var xR=function(t){j(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Mi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!$i(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Mi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Mi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(pe);function IR(t,e){return e===void 0&&(e=0),function(n){return n.lift(new AR(t,e))}}var AR=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new xR(r,this.delay,this.scheduler).subscribe(e)},t}();function Un(t,e){return typeof e=="function"?function(r){return r.pipe(Un(function(n,i){return nr(t(n,i)).pipe(Ot(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new kR(t))}}var kR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new MR(e,this.project))},t}(),MR=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new we(this),s=this.destination;s.add(i),this.innerSubscription=_e(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Se);function OR(){return Un(Jr)}function TR(t,e){return e?Un(function(){return t},e):Un(function(){return t})}function NR(t){return function(e){return e.lift(new LR(t))}}var LR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new PR(e),i=_e(this.notifier,new we(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),PR=function(t){j(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Se);function $R(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new DR(t,e))}}var DR=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new jR(e,this.predicate,this.inclusive))},t}(),jR=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(X);function BR(t,e,r){return function(i){return i.lift(new FR(t,e,r))}}var FR=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new WR(e,this.nextOrObserver,this.error,this.complete))},t}(),WR=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=St,o._tapError=St,o._tapComplete=St,o._tapError=i||St,o._tapComplete=s||St,Xf(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||St,o._tapError=n.error||St,o._tapComplete=n.complete||St),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(X),i0={leading:!0,trailing:!1};function HR(t,e){return e===void 0&&(e=i0),function(r){return r.lift(new VR(t,!!e.leading,!!e.trailing))}}var VR=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new UR(e,this.durationSelector,this.leading,this.trailing))},t}(),UR=function(t){j(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=_e(n,new we(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Se);function zR(t,e,r){return e===void 0&&(e=qe),r===void 0&&(r=i0),function(n){return n.lift(new qR(t,e,r.leading,r.trailing))}}var qR=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new GR(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),GR=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(JR,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(X);function JR(t){var e=t.subscriber;e.clearThrottle()}function QR(t){return t===void 0&&(t=qe),function(e){return Ac(function(){return e.pipe(Yi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ot(function(r){var n=r.current,i=r.last,s=r.value;return new ZR(s,n-i)}))})}}var ZR=function(){function t(e,r){this.value=e,this.interval=r}return t}();function s0(t,e,r){return r===void 0&&(r=qe),function(n){var i=e0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new YR(s,i,e,r))}}var YR=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new KR(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),KR=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(_e(n,new we(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Se);function XR(t,e){return e===void 0&&(e=qe),s0(t,Rc(new lh),e)}function ex(t){return t===void 0&&(t=qe),Ot(function(e){return new tx(e,t.now())})}var tx=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function rx(t,e,r){return r===0?[e]:(t.push(e),t)}function nx(){return eo(rx,[])}function ix(t){return function(r){return r.lift(new sx(t))}}var sx=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new ox(e),i=r.subscribe(n);return i.closed||n.add(_e(this.windowBoundaries,new we(n))),i},t}(),ox=function(t){j(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Pe,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Pe;n.next(i)},e}(Se);function ax(t,e){return e===void 0&&(e=0),function(n){return n.lift(new cx(t,e))}}var cx=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new ux(e,this.windowSize,this.startWindowEvery))},t}(),ux=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Pe],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var u=new Pe;o.push(u),i.next(u)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(X);function lx(t){var e=qe,r=null,n=Number.POSITIVE_INFINITY;return Mt(arguments[3])&&(e=arguments[3]),Mt(arguments[2])?e=arguments[2]:$i(arguments[2])&&(n=Number(arguments[2])),Mt(arguments[1])?e=arguments[1]:$i(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new fx(t,r,n,e))}}var fx=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new dx(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),hx=function(t){j(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Pe),dx=function(t){j(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(o0,n,l)),a.add(o.schedule(gx,i,u))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(px,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new hx;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(X);function px(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function gx(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(o0,e,c),o.add(a.subscription),o.schedule(t,i)}function o0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function bx(t,e){return function(r){return r.lift(new yx(t,e))}}var yx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new vx(e,this.openings,this.closingSelector))},t}(),vx=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Wt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var l=new Pe,u=new Ye,h={window:l,subscription:u};this.contexts.push(h);var f=Wt(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,u.add(f)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Cr);function mx(t){return function(r){return r.lift(new _x(t))}}var _x=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new wx(e,this.closingSelector))},t}(),wx=function(t){j(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Pe;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Wt(this,s))},e}(Cr);function Sx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Ex(i,n))}}var Ex=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Cx(e,this.observables,this.project))},t}(),Cx=function(t){j(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Wt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Cr);function Rx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(vh.apply(void 0,[n].concat(t)))}}function xx(t){return function(e){return e.lift(new mh(t))}}const Ix=Object.freeze(Object.defineProperty({__proto__:null,audit:Yp,auditTime:I4,buffer:A4,bufferCount:O4,bufferTime:P4,bufferToggle:F4,bufferWhen:V4,catchError:q4,combineAll:Q4,combineLatest:Z4,concat:Y4,concatAll:dh,concatMap:Xp,concatMapTo:K4,count:X4,debounce:r5,debounceTime:s5,defaultIfEmpty:di,delay:f5,delayWhen:g5,dematerialize:m5,distinct:S5,distinctUntilChanged:t0,distinctUntilKeyChanged:I5,elementAt:N5,endWith:L5,every:P5,exhaust:j5,exhaustMap:r0,expand:V5,filter:Kt,finalize:q5,find:Q5,findIndex:Y5,first:K5,flatMap:R0,groupBy:O0,ignoreElements:X5,isEmpty:rC,last:aC,map:Ot,mapTo:cC,materialize:fC,max:bC,merge:yC,mergeAll:Kf,mergeMap:ji,mergeMapTo:vC,mergeScan:mC,min:SC,multicast:Er,observeOn:F0,onErrorResumeNext:CC,pairwise:IC,partition:MC,pluck:OC,publish:NC,publishBehavior:LC,publishLast:PC,publishReplay:$C,race:DC,reduce:eo,refCount:Cc,repeat:jC,repeatWhen:FC,retry:VC,retryWhen:qC,sample:QC,sampleTime:KC,scan:Yi,sequenceEqual:rR,share:aR,shareReplay:cR,single:lR,skip:dR,skipLast:bR,skipUntil:mR,skipWhile:SR,startWith:RR,subscribeOn:IR,switchAll:OR,switchMap:Un,switchMapTo:TR,take:Mu,takeLast:Zi,takeUntil:NR,takeWhile:$R,tap:BR,throttle:HR,throttleTime:zR,throwIfEmpty:Xs,timeInterval:QR,timeout:XR,timeoutWith:s0,timestamp:ex,toArray:nx,window:ix,windowCount:ax,windowTime:lx,windowToggle:bx,windowWhen:mx,withLatestFrom:Sx,zip:Rx,zipAll:xx},Symbol.toStringTag,{value:"Module"})),Ou=un(Ix);var to={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.ClientMessagePublishEvent=rt.ClientMessageSetSessionConfig=rt.ClientMessageGetSessionConfig=rt.ClientMessageIsLinked=rt.ClientMessageHostSession=void 0;function Ax(t){return Object.assign({type:"HostSession"},t)}rt.ClientMessageHostSession=Ax;function kx(t){return Object.assign({type:"IsLinked"},t)}rt.ClientMessageIsLinked=kx;function Mx(t){return Object.assign({type:"GetSessionConfig"},t)}rt.ClientMessageGetSessionConfig=Mx;function Ox(t){return Object.assign({type:"SetSessionConfig"},t)}rt.ClientMessageSetSessionConfig=Ox;function Tx(t){return Object.assign({type:"PublishEvent"},t)}rt.ClientMessagePublishEvent=Tx;var a0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ds,r=Ou;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(a0);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.isServerMessageFail=void 0;function Nx(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ro.isServerMessageFail=Nx;Object.defineProperty(to,"__esModule",{value:!0});to.WalletSDKConnection=void 0;const ut=Ds,oe=Ou,An=dn,jr=Kn,kn=rt,Mn=hn,Ai=a0,Ga=ro,Qf=1e4,Lx=6e4;class Px{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new ut.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,jr.IntNumber)(1),this.connectedSubject=new ut.BehaviorSubject(!1),this.linkedSubject=new ut.BehaviorSubject(!1),this.sessionConfigSubject=new ut.ReplaySubject(1);const o=new Ai.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,oe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Mn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:An.Session.hash(e)})}),(0,oe.skip)(1),(0,oe.filter)(a=>a===Ai.ConnectionState.DISCONNECTED&&!this.destroyed),(0,oe.delay)(5e3),(0,oe.filter)(a=>!this.destroyed),(0,oe.flatMap)(a=>o.connect()),(0,oe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,oe.skip)(2),(0,oe.switchMap)(a=>(0,ut.iif)(()=>a===Ai.ConnectionState.CONNECTED,this.authenticate().pipe((0,oe.tap)(c=>this.sendIsLinked()),(0,oe.tap)(c=>this.sendGetSessionConfig()),(0,oe.map)(c=>!0)),(0,ut.of)(!1))),(0,oe.distinctUntilChanged)(),(0,oe.catchError)(a=>(0,ut.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,oe.skip)(1),(0,oe.switchMap)(a=>(0,ut.iif)(()=>a===Ai.ConnectionState.CONNECTED,(0,ut.timer)(0,Qf)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,oe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,oe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Mn.EVENTS.LINKED,{sessionIdHash:An.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,oe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Mn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:An.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Mn.EVENTS.STARTED_CONNECTING,{sessionIdHash:An.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Mn.EVENTS.DISCONNECTED,{sessionIdHash:An.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,oe.filter)(e=>e),(0,oe.take)(1),(0,oe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,oe.filter)(e=>e),(0,oe.take)(1),(0,oe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,oe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,oe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,kn.ClientMessageSetSessionConfig)({id:(0,jr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,oe.flatMap)(i=>this.makeRequest(n)),(0,oe.map)(i=>{if((0,Ga.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,kn.ClientMessagePublishEvent)({id:(0,jr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,oe.flatMap)(s=>this.makeRequest(i)),(0,oe.map)(s=>{if((0,Ga.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Qf*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=Lx){const n=e.id;try{this.sendData(e)}catch(i){return(0,ut.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,oe.timeoutWith)(r,(0,ut.throwError)(new Error(`request ${n} timed out`))),(0,oe.filter)(i=>i.id===n),(0,oe.take)(1))}authenticate(){const e=(0,kn.ClientMessageHostSession)({id:(0,jr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,oe.map)(r=>{if((0,Ga.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,kn.ClientMessageIsLinked)({id:(0,jr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,kn.ClientMessageGetSessionConfig)({id:(0,jr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}to.WalletSDKConnection=Px;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.WalletUIError=void 0;class zn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}no.WalletUIError=zn;zn.UserRejectedRequest=new zn("User rejected request");zn.SwitchEthereumChainUnsupportedChainId=new zn("Unsupported chainId",4902);var an={};Object.defineProperty(an,"__esModule",{value:!0});an.decrypt=an.encrypt=void 0;const Ki=J;async function $x(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ki.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),u=new Uint8Array(c),h=new Uint8Array([...r,...l,...u]);return(0,Ki.uint8ArrayToHex)(h)}an.encrypt=$x;function Dx(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Ki.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Ki.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(u,i,l),f=new TextDecoder;r(f.decode(h))}catch(h){n(h)}})()})}an.decrypt=Dx;var Tu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Tu);var io={},so={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(so);Object.defineProperty(io,"__esModule",{value:!0});io.Web3RequestCanceledMessage=void 0;const jx=so;function Bx(t){return{type:jx.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}io.Web3RequestCanceledMessage=Bx;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.Web3RequestMessage=void 0;const Fx=so;function Wx(t){return Object.assign({type:Fx.RelayMessageType.WEB3_REQUEST},t)}oo.Web3RequestMessage=Wx;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.EthereumAddressFromSignedMessageResponse=ye.SubmitEthereumTransactionResponse=ye.SignEthereumTransactionResponse=ye.SignEthereumMessageResponse=ye.isRequestEthereumAccountsResponse=ye.SelectProviderResponse=ye.WatchAssetReponse=ye.RequestEthereumAccountsResponse=ye.SwitchEthereumChainResponse=ye.AddEthereumChainResponse=ye.ErrorResponse=void 0;const Tt=Tu;function Hx(t,e,r){return{method:t,errorMessage:e,errorCode:r}}ye.ErrorResponse=Hx;function Vx(t){return{method:Tt.Web3Method.addEthereumChain,result:t}}ye.AddEthereumChainResponse=Vx;function Ux(t){return{method:Tt.Web3Method.switchEthereumChain,result:t}}ye.SwitchEthereumChainResponse=Ux;function zx(t){return{method:Tt.Web3Method.requestEthereumAccounts,result:t}}ye.RequestEthereumAccountsResponse=zx;function qx(t){return{method:Tt.Web3Method.watchAsset,result:t}}ye.WatchAssetReponse=qx;function Gx(t){return{method:Tt.Web3Method.selectProvider,result:t}}ye.SelectProviderResponse=Gx;function Jx(t){return t&&t.method===Tt.Web3Method.requestEthereumAccounts}ye.isRequestEthereumAccountsResponse=Jx;function Qx(t){return{method:Tt.Web3Method.signEthereumMessage,result:t}}ye.SignEthereumMessageResponse=Qx;function Zx(t){return{method:Tt.Web3Method.signEthereumTransaction,result:t}}ye.SignEthereumTransactionResponse=Zx;function Yx(t){return{method:Tt.Web3Method.submitEthereumTransaction,result:t}}ye.SubmitEthereumTransactionResponse=Yx;function Kx(t){return{method:Tt.Web3Method.ethereumAddressFromSignedMessage,result:t}}ye.EthereumAddressFromSignedMessageResponse=Kx;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.isWeb3ResponseMessage=cn.Web3ResponseMessage=void 0;const c0=so;function Xx(t){return Object.assign({type:c0.RelayMessageType.WEB3_RESPONSE},t)}cn.Web3ResponseMessage=Xx;function eI(t){return t&&t.type===c0.RelayMessageType.WEB3_RESPONSE}cn.isWeb3ResponseMessage=eI;var tI=q&&q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rI=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u0=q&&q.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},nI=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tI(e,t,r);return rI(e,t),e},iI=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.WalletSDKRelay=void 0;const l0=iI(Ks),Zf=as,ur=Ds,Re=Ou,Be=hn,sI=to,Ja=no,oI=Kn,be=J,qt=nI(an),Gt=dn,ki=dt,Ae=Tu,aI=io,cI=oo,Je=ye,He=cn;class ht extends ki.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new ur.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new ur.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Gt.Session.load(this.storage)||new Gt.Session(this.storage).save(),r=new sI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Re.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Re.skip)(1),(0,Re.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(ki.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Be.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Re.mergeMap)(i=>qt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(ki.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Re.mergeMap)(i=>qt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(ki.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Re.mergeMap)(i=>(0,ur.zip)(qt.decrypt(i.metadata.ChainId,e.secret),qt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Re.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Re.mergeMap)(i=>qt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),ht.accountRequestCallbackIds.size>0&&(Array.from(ht.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,He.Web3ResponseMessage)({id:s,response:(0,Je.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),ht.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Re.mergeMap)(i=>qt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Re.timeout)(1e3),(0,Re.catchError)(e=>(0,ur.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Be.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Gt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Be.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Gt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new ur.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ae.Web3Method.signEthereumMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ae.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),signature:(0,be.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,be.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,be.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ae.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,be.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ae.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,be.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ae.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,cI.Web3RequestMessage)({id:e,request:r}),s=Gt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Be.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Be.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Gt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,aI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new ur.Observable(s=>{qt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Re.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,ur.from)(qt.decrypt(e.data,this.session.secret)).pipe((0,Re.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,He.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Be.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Je.isRequestEthereumAccountsResponse)(n)){ht.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),ht.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:e,response:(0,Je.ErrorResponse)(r,(n??Ja.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ae.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,be.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,be.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=u=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:r,response:(0,Je.RequestEthereumAccountsResponse)(u)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Zf.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}ht.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ae.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if(u.errorMessage)return a(new Error(u.errorMessage));o(u)});const c=u=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:n,response:(0,Je.SelectProviderResponse)(oI.ProviderType.Unselected)}))},l=u=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:n,response:(0,Je.SelectProviderResponse)(u)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Ae.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,be.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const h=new Promise((f,d)=>{this.relayEventManager.callbacks.set(l,C=>{if(c==null||c(),C.errorMessage)return d(new Error(C.errorMessage));f(C)});const _=C=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:l,response:(0,Je.WatchAssetReponse)(!1)}))},A=()=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:l,response:(0,Je.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:A,onCancel:_,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:Ae.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,be.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(l,C=>{if(c==null||c(),C.errorMessage)return d(new Error(C.errorMessage));f(C)});const _=C=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:l,response:(0,Je.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},A=C=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:l,response:(0,Je.AddEthereumChainResponse)({isApproved:!0,rpcUrl:C})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:_,onApprove:A,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(e,r){const n={method:Ae.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,be.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c(Zf.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const l=h=>{if(typeof h=="number"){const f=h;this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Je.ErrorResponse)(Ae.Web3Method.switchEthereumChain,Ja.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else h instanceof Ja.WalletUIError?this.handleErrorResponse(i,Ae.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Je.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},u=h=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:i,response:(0,Je.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Gt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,He.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ae.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}ht.accountRequestCallbackIds=new Set;u0([l0.default],ht.prototype,"resetAndReload",null);u0([l0.default],ht.prototype,"handleIncomingEvent",null);Ys.WalletSDKRelay=ht;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.WalletSDKRelayEventManager=void 0;const uI=J;class lI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,uI.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ao.WalletSDKRelayEventManager=lI;const fI="@coinbase/wallet-sdk",hI="3.6.6",dI="Coinbase Wallet JavaScript SDK",pI=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],gI="dist/index.js",bI="dist/index.d.ts",yI="https://github.com/coinbase/coinbase-wallet-sdk.git",vI="Coinbase, Inc.",mI="Apache-2.0",_I={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},wI={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},SI={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},EI={node:">= 10.0.0"},CI={name:fI,version:hI,description:dI,keywords:pI,main:gI,types:bI,repository:yI,author:vI,license:mI,scripts:_I,dependencies:wI,devDependencies:SI,engines:EI};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.CoinbaseWalletSDK=void 0;const RI=ss,xI=os,II=Yr,AI=Ls,kI=Ys,MI=ao,OI=J,TI={}.LINK_API_URL||"https://www.walletlink.org",f0={}.SDK_VERSION||CI.version||"unknown";class co{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||TI;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new AI.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new xI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",co.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new MI.WalletSDKRelayEventManager,this._relay=new kI.WalletSDKRelay({linkAPIUrl:s,version:f0,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new II.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,OI.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,RI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Bn.CoinbaseWalletSDK=co;co.VERSION=f0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Bn,r=Yr;var n=Bn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Yr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(kc);const NI=d0(kc),JI=x0({__proto__:null,default:NI},[kc]);export{JI as i};
